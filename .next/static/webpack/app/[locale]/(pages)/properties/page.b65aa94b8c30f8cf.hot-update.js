"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/[locale]/(pages)/properties/page",{

/***/ "(app-pages-browser)/./src/hooks/useProperties.ts":
/*!************************************!*\
  !*** ./src/hooks/useProperties.ts ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFeaturedProperties: function() { return /* binding */ useFeaturedProperties; },\n/* harmony export */   useInvestmentOpportunities: function() { return /* binding */ useInvestmentOpportunities; },\n/* harmony export */   useProperties: function() { return /* binding */ useProperties; },\n/* harmony export */   useProperty: function() { return /* binding */ useProperty; },\n/* harmony export */   usePropertyMapData: function() { return /* binding */ usePropertyMapData; },\n/* harmony export */   usePropertySearch: function() { return /* binding */ usePropertySearch; },\n/* harmony export */   usePropertyTracking: function() { return /* binding */ usePropertyTracking; },\n/* harmony export */   useSimilarProperties: function() { return /* binding */ useSimilarProperties; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/api/properties */ \"(app-pages-browser)/./src/lib/api/properties.ts\");\n/**\n * Properties Hook - Hook personalizado para propiedades\n * Panama Golden Key PropTech - Hook para gestión de propiedades con arquitectura angelical\n */ \n\nconst useProperties = function() {\n    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    const { initialFilters = {}, autoFetch = true, pageSize = 12 } = options;\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [pagination, setPagination] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        count: 0,\n        next: undefined,\n        previous: undefined,\n        page_size: pageSize,\n        current_page: 1,\n        total_pages: 0,\n        has_next: false,\n        has_previous: false\n    });\n    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialFilters);\n    const [hasNext, setHasNext] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Función para actualizar filtros\n    const updateFilter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((key, value)=>{\n        setFilters((prev)=>({\n                ...prev,\n                [key]: value\n            }));\n    }, []);\n    // Función para limpiar error\n    const clearError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setError(null);\n    }, []);\n    // Función para cargar más propiedades\n    const loadMore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (pagination.next && !loading) {\n            fetchProperties(pagination.next);\n        }\n    }, [\n        pagination.next,\n        loading\n    ]);\n    // Función para refrescar datos\n    const refetch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        fetchProperties();\n    }, [\n        filters\n    ]);\n    // Función para obtener propiedades\n    const fetchProperties = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (url)=>{\n        setLoading(true);\n        setError(null);\n        try {\n            const response = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.getProperties(url);\n            if (url) {\n                // Es una carga adicional (paginación)\n                setProperties((prev)=>[\n                        ...prev,\n                        ...response.results\n                    ]);\n            } else {\n                // Es una carga inicial\n                setProperties(response.results);\n            }\n            // Actualizar paginación\n            if (response.pagination) {\n                setPagination(response.pagination);\n                setHasNext(response.pagination.has_next);\n            } else {\n                // Calcular paginación si no viene en la respuesta\n                const newPagination = {\n                    count: response.count,\n                    next: response.next,\n                    previous: response.previous,\n                    page_size: pageSize,\n                    current_page: url ? parseInt(new URL(url).searchParams.get(\"page\") || \"1\") : 1,\n                    total_pages: Math.ceil(response.count / pageSize),\n                    has_next: !!response.next,\n                    has_previous: !!response.previous\n                };\n                setPagination(newPagination);\n                setHasNext(newPagination.has_next);\n            }\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"Error al cargar propiedades\");\n            console.error(\"Error fetching properties:\", err);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        filters,\n        pageSize\n    ]);\n    // Cargar propiedades iniciales al montar el componente y cuando cambian los filtros\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (autoFetch) {\n            const params = new URLSearchParams();\n            // Agregar filtros a los parámetros\n            Object.entries(filters).forEach((param)=>{\n                let [key, value] = param;\n                if (value !== undefined && value !== null && value !== \"\") {\n                    if (Array.isArray(value)) {\n                        value.forEach((v)=>params.append(key, v.toString()));\n                    } else {\n                        params.append(key, value.toString());\n                    }\n                }\n            });\n            const queryString = params.toString();\n            const url = queryString ? \"?\".concat(queryString) : \"\";\n            fetchProperties(url);\n        }\n    }, [\n        filters,\n        autoFetch,\n        fetchProperties\n    ]);\n    return {\n        properties,\n        loading,\n        error,\n        pagination,\n        hasNext,\n        updateFilter,\n        loadMore,\n        clearError,\n        refetch\n    };\n};\n// Hook para obtener una propiedad específica\nconst useProperty = (id)=>{\n    const [property, setProperty] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchProperty = async ()=>{\n            setLoading(true);\n            setError(null);\n            try {\n                const propertyData = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.getProperty(id);\n                setProperty(propertyData);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Error al cargar la propiedad\");\n                console.error(\"Error fetching property:\", err);\n            } finally{\n                setLoading(false);\n            }\n        };\n        if (id) {\n            fetchProperty();\n        }\n    }, [\n        id\n    ]);\n    return {\n        property,\n        loading,\n        error\n    };\n};\n// Hook para obtener propiedades destacadas\nconst useFeaturedProperties = ()=>{\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchFeaturedProperties = async ()=>{\n            setLoading(true);\n            setError(null);\n            try {\n                const response = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.getFeaturedProperties();\n                setProperties(response.results);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Error al cargar propiedades destacadas\");\n                console.error(\"Error fetching featured properties:\", err);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchFeaturedProperties();\n    }, []);\n    return {\n        properties,\n        loading,\n        error\n    };\n};\n// Hook para buscar propiedades\nconst usePropertySearch = ()=>{\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const searchProperties = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (searchParams)=>{\n        setLoading(true);\n        setError(null);\n        try {\n            const response = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.searchProperties(searchParams);\n            setResults(response.results);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"Error al buscar propiedades\");\n            console.error(\"Error searching properties:\", err);\n        } finally{\n            setLoading(false);\n        }\n    }, []);\n    return {\n        results,\n        loading,\n        error,\n        searchProperties\n    };\n};\n// Hook para obtener propiedades similares\nconst useSimilarProperties = (id)=>{\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchSimilarProperties = async ()=>{\n            setLoading(true);\n            setError(null);\n            try {\n                const response = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.getSimilarProperties(id);\n                setProperties(response.results);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Error al cargar propiedades similares\");\n                console.error(\"Error fetching similar properties:\", err);\n            } finally{\n                setLoading(false);\n            }\n        };\n        if (id) {\n            fetchSimilarProperties();\n        }\n    }, [\n        id\n    ]);\n    return {\n        properties,\n        loading,\n        error\n    };\n};\n// Hook para obtener oportunidades de inversión\nconst useInvestmentOpportunities = ()=>{\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchInvestmentOpportunities = async ()=>{\n            setLoading(true);\n            setError(null);\n            try {\n                const response = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.getInvestmentOpportunities();\n                setProperties(response.results);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Error al cargar oportunidades de inversi\\xf3n\");\n                console.error(\"Error fetching investment opportunities:\", err);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchInvestmentOpportunities();\n    }, []);\n    return {\n        properties,\n        loading,\n        error\n    };\n};\n// Hook para obtener datos de mapa\nconst usePropertyMapData = ()=>{\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchMapData = async ()=>{\n            setLoading(true);\n            setError(null);\n            try {\n                const response = await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.getMapData();\n                setProperties(response.results);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Error al cargar datos del mapa\");\n                console.error(\"Error fetching map data:\", err);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchMapData();\n    }, []);\n    return {\n        properties,\n        loading,\n        error\n    };\n};\n// Hook para registrar eventos de seguimiento\nconst usePropertyTracking = ()=>{\n    const trackView = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (propertyId)=>{\n        try {\n            await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.trackView(propertyId);\n        } catch (err) {\n            console.error(\"Error tracking view:\", err);\n        }\n    }, []);\n    const trackFavorite = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (propertyId)=>{\n        try {\n            await _lib_api_properties__WEBPACK_IMPORTED_MODULE_1__.propertiesApi.addFavorite(propertyId);\n        } catch (err) {\n            console.error(\"Error tracking favorite:\", err);\n        }\n    }, []);\n    return {\n        trackView,\n        trackFavorite\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VQcm9wZXJ0aWVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBRXdEO0FBT0o7QUFvQjlDLE1BQU1JLGdCQUFnQjtRQUMzQkMsMkVBQWdDLENBQUM7SUFFakMsTUFBTSxFQUFFQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUVDLFlBQVksSUFBSSxFQUFFQyxXQUFXLEVBQUUsRUFBRSxHQUFHSDtJQUVqRSxNQUFNLENBQUNJLFlBQVlDLGNBQWMsR0FBR1YsK0NBQVFBLENBQWEsRUFBRTtJQUMzRCxNQUFNLENBQUNXLFNBQVNDLFdBQVcsR0FBR1osK0NBQVFBLENBQVU7SUFDaEQsTUFBTSxDQUFDYSxPQUFPQyxTQUFTLEdBQUdkLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUNlLFlBQVlDLGNBQWMsR0FBR2hCLCtDQUFRQSxDQUFxQjtRQUMvRGlCLE9BQU87UUFDUEMsTUFBTUM7UUFDTkMsVUFBVUQ7UUFDVkUsV0FBV2I7UUFDWGMsY0FBYztRQUNkQyxhQUFhO1FBQ2JDLFVBQVU7UUFDVkMsY0FBYztJQUNoQjtJQUNBLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHM0IsK0NBQVFBLENBQWtCTTtJQUN4RCxNQUFNLENBQUNzQixTQUFTQyxXQUFXLEdBQUc3QiwrQ0FBUUEsQ0FBVTtJQUVoRCxrQ0FBa0M7SUFDbEMsTUFBTThCLGVBQWU1QixrREFBV0EsQ0FBQyxDQUFDNkIsS0FBNEJDO1FBQzVETCxXQUFXLENBQUNNLE9BQVU7Z0JBQUUsR0FBR0EsSUFBSTtnQkFBRSxDQUFDRixJQUFJLEVBQUVDO1lBQU07SUFDaEQsR0FBRyxFQUFFO0lBRUwsNkJBQTZCO0lBQzdCLE1BQU1FLGFBQWFoQyxrREFBV0EsQ0FBQztRQUM3QlksU0FBUztJQUNYLEdBQUcsRUFBRTtJQUVMLHNDQUFzQztJQUN0QyxNQUFNcUIsV0FBV2pDLGtEQUFXQSxDQUFDO1FBQzNCLElBQUlhLFdBQVdHLElB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QyxTQUFTLEdBQUdkLCtDQUFRQSxDQUFnQjtJQUVsREMsZ0RBQVNBLENBQUM7UUFDUixNQUFNbUYsZUFBZTtZQUNuQnhFLFdBQVc7WUFDWEUsU0FBUztZQUVULElBQUk7Z0JBQ0YsTUFBTXlCLFdBQVcsTUFBTXBDLDhEQUFhQSxDQUFDa0YsVUFBVTtnQkFDL0MzRSxjQUFjNkIsU0FBU0UsT0FBTztZQUNoQyxFQUFFLE9BQU9RLEtBQUs7Z0JBQ1puQyxTQUNFbUMsZUFBZUMsUUFBUUQsSUFBSUUsT0FBTyxHQUFHO2dCQUV2Q0MsUUFBUXZDLEtBQUssQ0FBQyw0QkFBNEJvQztZQUM1QyxTQUFVO2dCQUNSckMsV0FBVztZQUNiO1FBQ0Y7UUFFQXdFO0lBQ0YsR0FBRyxFQUFFO0lBRUwsT0FBTztRQUFFM0U7UUFBWUU7UUFBU0U7SUFBTTtBQUN0QyxFQUFFO0FBRUYsNkNBQTZDO0FBQ3RDLE1BQU15RSxzQkFBc0I7SUFDakMsTUFBTUMsWUFBWXJGLGtEQUFXQSxDQUFDLE9BQU9zRjtRQUNuQyxJQUFJO1lBQ0YsTUFBTXJGLDhEQUFhQSxDQUFDb0YsU0FBUyxDQUFDQztRQUNoQyxFQUFFLE9BQU92QyxLQUFLO1lBQ1pHLFFBQVF2QyxLQUFLLENBQUMsd0JBQXdCb0M7UUFDeEM7SUFDRixHQUFHLEVBQUU7SUFFTCxNQUFNd0MsZ0JBQWdCdkYsa0RBQVdBLENBQUMsT0FBT3NGO1FBQ3ZDLElBQUk7WUFDRixNQUFNckYsOERBQWFBLENBQUN1RixXQUFXLENBQUNGO1FBQ2xDLEVBQUUsT0FBT3ZDLEtBQUs7WUFDWkcsUUFBUXZDLEtBQUssQ0FBQyw0QkFBNEJvQztRQUM1QztJQUNGLEdBQUcsRUFBRTtJQUVMLE9BQU87UUFBRXNDO1FBQVdFO0lBQWM7QUFDcEMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlUHJvcGVydGllcy50cz9iNDZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvcGVydGllcyBIb29rIC0gSG9vayBwZXJzb25hbGl6YWRvIHBhcmEgcHJvcGllZGFkZXNcbiAqIFBhbmFtYSBHb2xkZW4gS2V5IFByb3BUZWNoIC0gSG9vayBwYXJhIGdlc3Rpw7NuIGRlIHByb3BpZWRhZGVzIGNvbiBhcnF1aXRlY3R1cmEgYW5nZWxpY2FsXG4gKi9cblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFByb3BlcnR5LFxuICBQcm9wZXJ0eUZpbHRlcnMsXG4gIFByb3BlcnR5UmVzcG9uc2UsXG4gIFByb3BlcnR5UGFnaW5hdGlvbixcbn0gZnJvbSBcIkAvdHlwZXMvcHJvcGVydGllc1wiO1xuaW1wb3J0IHsgcHJvcGVydGllc0FwaSB9IGZyb20gXCJAL2xpYi9hcGkvcHJvcGVydGllc1wiO1xuXG5pbnRlcmZhY2UgVXNlUHJvcGVydGllc09wdGlvbnMge1xuICBpbml0aWFsRmlsdGVycz86IFByb3BlcnR5RmlsdGVycztcbiAgYXV0b0ZldGNoPzogYm9vbGVhbjtcbiAgcGFnZVNpemU/OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBVc2VQcm9wZXJ0aWVzUmV0dXJuIHtcbiAgcHJvcGVydGllczogUHJvcGVydHlbXTtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHBhZ2luYXRpb246IFByb3BlcnR5UGFnaW5hdGlvbjtcbiAgaGFzTmV4dDogYm9vbGVhbjtcbiAgdXBkYXRlRmlsdGVyOiAoa2V5OiBrZXlvZiBQcm9wZXJ0eUZpbHRlcnMsIHZhbHVlOiBhbnkpID0+IHZvaWQ7XG4gIGxvYWRNb3JlOiAoKSA9PiB2b2lkO1xuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkO1xuICByZWZldGNoOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgdXNlUHJvcGVydGllcyA9IChcbiAgb3B0aW9uczogVXNlUHJvcGVydGllc09wdGlvbnMgPSB7fVxuKTogVXNlUHJvcGVydGllc1JldHVybiA9PiB7XG4gIGNvbnN0IHsgaW5pdGlhbEZpbHRlcnMgPSB7fSwgYXV0b0ZldGNoID0gdHJ1ZSwgcGFnZVNpemUgPSAxMiB9ID0gb3B0aW9ucztcblxuICBjb25zdCBbcHJvcGVydGllcywgc2V0UHJvcGVydGllc10gPSB1c2VTdGF0ZTxQcm9wZXJ0eVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BhZ2luYXRpb24sIHNldFBhZ2luYXRpb25dID0gdXNlU3RhdGU8UHJvcGVydHlQYWdpbmF0aW9uPih7XG4gICAgY291bnQ6IDAsXG4gICAgbmV4dDogdW5kZWZpbmVkLFxuICAgIHByZXZpb3VzOiB1bmRlZmluZWQsXG4gICAgcGFnZV9zaXplOiBwYWdlU2l6ZSxcbiAgICBjdXJyZW50X3BhZ2U6IDEsXG4gICAgdG90YWxfcGFnZXM6IDAsXG4gICAgaGFzX25leHQ6IGZhbHNlLFxuICAgIGhhc19wcmV2aW91czogZmFsc2UsXG4gIH0pO1xuICBjb25zdCBbZmlsdGVycywgc2V0RmlsdGVyc10gPSB1c2VTdGF0ZTxQcm9wZXJ0eUZpbHRlcnM+KGluaXRpYWxGaWx0ZXJzKTtcbiAgY29uc3QgW2hhc05leHQsIHNldEhhc05leHRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgYWN0dWFsaXphciBmaWx0cm9zXG4gIGNvbnN0IHVwZGF0ZUZpbHRlciA9IHVzZUNhbGxiYWNrKChrZXk6IGtleW9mIFByb3BlcnR5RmlsdGVycywgdmFsdWU6IGFueSkgPT4ge1xuICAgIHNldEZpbHRlcnMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtrZXldOiB2YWx1ZSB9KSk7XG4gIH0sIFtdKTtcblxuICAvLyBGdW5jacOzbiBwYXJhIGxpbXBpYXIgZXJyb3JcbiAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfSwgW10pO1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgY2FyZ2FyIG3DoXMgcHJvcGllZGFkZXNcbiAgY29uc3QgbG9hZE1vcmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHBhZ2luYXRpb24ubmV4dCAmJiAhbG9hZGluZykge1xuICAgICAgZmV0Y2hQcm9wZXJ0aWVzKHBhZ2luYXRpb24ubmV4dCk7XG4gICAgfVxuICB9LCBbcGFnaW5hdGlvbi5uZXh0LCBsb2FkaW5nXSk7XG5cbiAgLy8gRnVuY2nDs24gcGFyYSByZWZyZXNjYXIgZGF0b3NcbiAgY29uc3QgcmVmZXRjaCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBmZXRjaFByb3BlcnRpZXMoKTtcbiAgfSwgW2ZpbHRlcnNdKTtcblxuICAvLyBGdW5jacOzbiBwYXJhIG9idGVuZXIgcHJvcGllZGFkZXNcbiAgY29uc3QgZmV0Y2hQcm9wZXJ0aWVzID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHVybD86IHN0cmluZykgPT4ge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZTogUHJvcGVydHlSZXNwb25zZSA9XG4gICAgICAgICAgYXdhaXQgcHJvcGVydGllc0FwaS5nZXRQcm9wZXJ0aWVzKHVybCk7XG5cbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgIC8vIEVzIHVuYSBjYXJnYSBhZGljaW9uYWwgKHBhZ2luYWNpw7NuKVxuICAgICAgICAgIHNldFByb3BlcnRpZXMoKHByZXYpID0+IFsuLi5wcmV2LCAuLi5yZXNwb25zZS5yZXN1bHRzXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRXMgdW5hIGNhcmdhIGluaWNpYWxcbiAgICAgICAgICBzZXRQcm9wZXJ0aWVzKHJlc3BvbnNlLnJlc3VsdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0dWFsaXphciBwYWdpbmFjacOzblxuICAgICAgICBpZiAocmVzcG9uc2UucGFnaW5hdGlvbikge1xuICAgICAgICAgIHNldFBhZ2luYXRpb24ocmVzcG9uc2UucGFnaW5hdGlvbik7XG4gICAgICAgICAgc2V0SGFzTmV4dChyZXNwb25zZS5wYWdpbmF0aW9uLmhhc19uZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDYWxjdWxhciBwYWdpbmFjacOzbiBzaSBubyB2aWVuZSBlbiBsYSByZXNwdWVzdGFcbiAgICAgICAgICBjb25zdCBuZXdQYWdpbmF0aW9uOiBQcm9wZXJ0eVBhZ2luYXRpb24gPSB7XG4gICAgICAgICAgICBjb3VudDogcmVzcG9uc2UuY291bnQsXG4gICAgICAgICAgICBuZXh0OiByZXNwb25zZS5uZXh0LFxuICAgICAgICAgICAgcHJldmlvdXM6IHJlc3BvbnNlLnByZXZpb3VzLFxuICAgICAgICAgICAgcGFnZV9zaXplOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIGN1cnJlbnRfcGFnZTogdXJsXG4gICAgICAgICAgICAgID8gcGFyc2VJbnQobmV3IFVSTCh1cmwpLnNlYXJjaFBhcmFtcy5nZXQoXCJwYWdlXCIpIHx8IFwiMVwiKVxuICAgICAgICAgICAgICA6IDEsXG4gICAgICAgICAgICB0b3RhbF9wYWdlczogTWF0aC5jZWlsKHJlc3BvbnNlLmNvdW50IC8gcGFnZVNpemUpLFxuICAgICAgICAgICAgaGFzX25leHQ6ICEhcmVzcG9uc2UubmV4dCxcbiAgICAgICAgICAgIGhhc19wcmV2aW91czogISFyZXNwb25zZS5wcmV2aW91cyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNldFBhZ2luYXRpb24obmV3UGFnaW5hdGlvbik7XG4gICAgICAgICAgc2V0SGFzTmV4dChuZXdQYWdpbmF0aW9uLmhhc19uZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKFxuICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkVycm9yIGFsIGNhcmdhciBwcm9waWVkYWRlc1wiXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwcm9wZXJ0aWVzOlwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbZmlsdGVycywgcGFnZVNpemVdXG4gICk7XG5cbiAgLy8gQ2FyZ2FyIHByb3BpZWRhZGVzIGluaWNpYWxlcyBhbCBtb250YXIgZWwgY29tcG9uZW50ZSB5IGN1YW5kbyBjYW1iaWFuIGxvcyBmaWx0cm9zXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dG9GZXRjaCkge1xuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gICAgICAvLyBBZ3JlZ2FyIGZpbHRyb3MgYSBsb3MgcGFyw6FtZXRyb3NcbiAgICAgIE9iamVjdC5lbnRyaWVzKGZpbHRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4gcGFyYW1zLmFwcGVuZChrZXksIHYudG9TdHJpbmcoKSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIGNvbnN0IHVybCA9IHF1ZXJ5U3RyaW5nID8gYD8ke3F1ZXJ5U3RyaW5nfWAgOiBcIlwiO1xuXG4gICAgICBmZXRjaFByb3BlcnRpZXModXJsKTtcbiAgICB9XG4gIH0sIFtmaWx0ZXJzLCBhdXRvRmV0Y2gsIGZldGNoUHJvcGVydGllc10pO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcGVydGllcyxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIHBhZ2luYXRpb24sXG4gICAgaGFzTmV4dCxcbiAgICB1cGRhdGVGaWx0ZXIsXG4gICAgbG9hZE1vcmUsXG4gICAgY2xlYXJFcnJvcixcbiAgICByZWZldGNoLFxuICB9O1xufTtcblxuLy8gSG9vayBwYXJhIG9idGVuZXIgdW5hIHByb3BpZWRhZCBlc3BlY8OtZmljYVxuZXhwb3J0IGNvbnN0IHVzZVByb3BlcnR5ID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgW3Byb3BlcnR5LCBzZXRQcm9wZXJ0eV0gPSB1c2VTdGF0ZTxQcm9wZXJ0eSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFByb3BlcnR5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eURhdGEgPSBhd2FpdCBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnR5KGlkKTtcbiAgICAgICAgc2V0UHJvcGVydHkocHJvcGVydHlEYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcihcbiAgICAgICAgICBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJFcnJvciBhbCBjYXJnYXIgbGEgcHJvcGllZGFkXCJcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHByb3BlcnR5OlwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpZCkge1xuICAgICAgZmV0Y2hQcm9wZXJ0eSgpO1xuICAgIH1cbiAgfSwgW2lkXSk7XG5cbiAgcmV0dXJuIHsgcHJvcGVydHksIGxvYWRpbmcsIGVycm9yIH07XG59O1xuXG4vLyBIb29rIHBhcmEgb2J0ZW5lciBwcm9waWVkYWRlcyBkZXN0YWNhZGFzXG5leHBvcnQgY29uc3QgdXNlRmVhdHVyZWRQcm9wZXJ0aWVzID0gKCkgPT4ge1xuICBjb25zdCBbcHJvcGVydGllcywgc2V0UHJvcGVydGllc10gPSB1c2VTdGF0ZTxQcm9wZXJ0eVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoRmVhdHVyZWRQcm9wZXJ0aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb3BlcnRpZXNBcGkuZ2V0RmVhdHVyZWRQcm9wZXJ0aWVzKCk7XG4gICAgICAgIHNldFByb3BlcnRpZXMocmVzcG9uc2UucmVzdWx0cyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoXG4gICAgICAgICAgZXJyIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgICAgID8gZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgIDogXCJFcnJvciBhbCBjYXJnYXIgcHJvcGllZGFkZXMgZGVzdGFjYWRhc1wiXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBmZWF0dXJlZCBwcm9wZXJ0aWVzOlwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoRmVhdHVyZWRQcm9wZXJ0aWVzKCk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4geyBwcm9wZXJ0aWVzLCBsb2FkaW5nLCBlcnJvciB9O1xufTtcblxuLy8gSG9vayBwYXJhIGJ1c2NhciBwcm9waWVkYWRlc1xuZXhwb3J0IGNvbnN0IHVzZVByb3BlcnR5U2VhcmNoID0gKCkgPT4ge1xuICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSB1c2VTdGF0ZTxQcm9wZXJ0eVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBzZWFyY2hQcm9wZXJ0aWVzID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHNlYXJjaFBhcmFtczogUHJvcGVydHlGaWx0ZXJzKSA9PiB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcHJvcGVydGllc0FwaS5zZWFyY2hQcm9wZXJ0aWVzKHNlYXJjaFBhcmFtcyk7XG4gICAgICAgIHNldFJlc3VsdHMocmVzcG9uc2UucmVzdWx0cyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoXG4gICAgICAgICAgZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiRXJyb3IgYWwgYnVzY2FyIHByb3BpZWRhZGVzXCJcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlYXJjaGluZyBwcm9wZXJ0aWVzOlwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXVxuICApO1xuXG4gIHJldHVybiB7IHJlc3VsdHMsIGxvYWRpbmcsIGVycm9yLCBzZWFyY2hQcm9wZXJ0aWVzIH07XG59O1xuXG4vLyBIb29rIHBhcmEgb2J0ZW5lciBwcm9waWVkYWRlcyBzaW1pbGFyZXNcbmV4cG9ydCBjb25zdCB1c2VTaW1pbGFyUHJvcGVydGllcyA9IChpZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IFtwcm9wZXJ0aWVzLCBzZXRQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlPFByb3BlcnR5W10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hTaW1pbGFyUHJvcGVydGllcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwcm9wZXJ0aWVzQXBpLmdldFNpbWlsYXJQcm9wZXJ0aWVzKGlkKTtcbiAgICAgICAgc2V0UHJvcGVydGllcyhyZXNwb25zZS5yZXN1bHRzKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcihcbiAgICAgICAgICBlcnIgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgPyBlcnIubWVzc2FnZVxuICAgICAgICAgICAgOiBcIkVycm9yIGFsIGNhcmdhciBwcm9waWVkYWRlcyBzaW1pbGFyZXNcIlxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgc2ltaWxhciBwcm9wZXJ0aWVzOlwiLCBlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpZCkge1xuICAgICAgZmV0Y2hTaW1pbGFyUHJvcGVydGllcygpO1xuICAgIH1cbiAgfSwgW2lkXSk7XG5cbiAgcmV0dXJuIHsgcHJvcGVydGllcywgbG9hZGluZywgZXJyb3IgfTtcbn07XG5cbi8vIEhvb2sgcGFyYSBvYnRlbmVyIG9wb3J0dW5pZGFkZXMgZGUgaW52ZXJzacOzblxuZXhwb3J0IGNvbnN0IHVzZUludmVzdG1lbnRPcHBvcnR1bml0aWVzID0gKCkgPT4ge1xuICBjb25zdCBbcHJvcGVydGllcywgc2V0UHJvcGVydGllc10gPSB1c2VTdGF0ZTxQcm9wZXJ0eVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoSW52ZXN0bWVudE9wcG9ydHVuaXRpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcHJvcGVydGllc0FwaS5nZXRJbnZlc3RtZW50T3Bwb3J0dW5pdGllcygpO1xuICAgICAgICBzZXRQcm9wZXJ0aWVzKHJlc3BvbnNlLnJlc3VsdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKFxuICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICA/IGVyci5tZXNzYWdlXG4gICAgICAgICAgICA6IFwiRXJyb3IgYWwgY2FyZ2FyIG9wb3J0dW5pZGFkZXMgZGUgaW52ZXJzacOzblwiXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBpbnZlc3RtZW50IG9wcG9ydHVuaXRpZXM6XCIsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hJbnZlc3RtZW50T3Bwb3J0dW5pdGllcygpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHsgcHJvcGVydGllcywgbG9hZGluZywgZXJyb3IgfTtcbn07XG5cbi8vIEhvb2sgcGFyYSBvYnRlbmVyIGRhdG9zIGRlIG1hcGFcbmV4cG9ydCBjb25zdCB1c2VQcm9wZXJ0eU1hcERhdGEgPSAoKSA9PiB7XG4gIGNvbnN0IFtwcm9wZXJ0aWVzLCBzZXRQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlPFByb3BlcnR5W10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hNYXBEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb3BlcnRpZXNBcGkuZ2V0TWFwRGF0YSgpO1xuICAgICAgICBzZXRQcm9wZXJ0aWVzKHJlc3BvbnNlLnJlc3VsdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKFxuICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIkVycm9yIGFsIGNhcmdhciBkYXRvcyBkZWwgbWFwYVwiXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBtYXAgZGF0YTpcIiwgZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaE1hcERhdGEoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7IHByb3BlcnRpZXMsIGxvYWRpbmcsIGVycm9yIH07XG59O1xuXG4vLyBIb29rIHBhcmEgcmVnaXN0cmFyIGV2ZW50b3MgZGUgc2VndWltaWVudG9cbmV4cG9ydCBjb25zdCB1c2VQcm9wZXJ0eVRyYWNraW5nID0gKCkgPT4ge1xuICBjb25zdCB0cmFja1ZpZXcgPSB1c2VDYWxsYmFjayhhc3luYyAocHJvcGVydHlJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHByb3BlcnRpZXNBcGkudHJhY2tWaWV3KHByb3BlcnR5SWQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRyYWNraW5nIHZpZXc6XCIsIGVycik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgdHJhY2tGYXZvcml0ZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChwcm9wZXJ0eUlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcHJvcGVydGllc0FwaS5hZGRGYXZvcml0ZShwcm9wZXJ0eUlkKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB0cmFja2luZyBmYXZvcml0ZTpcIiwgZXJyKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4geyB0cmFja1ZpZXcsIHRyYWNrRmF2b3JpdGUgfTtcbn07XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInByb3BlcnRpZXNBcGkiLCJ1c2VQcm9wZXJ0aWVzIiwib3B0aW9ucyIsImluaXRpYWxGaWx0ZXJzIiwiYXV0b0ZldGNoIiwicGFnZVNpemUiLCJwcm9wZXJ0aWVzIiwic2V0UHJvcGVydGllcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInBhZ2luYXRpb24iLCJzZXRQYWdpbmF0aW9uIiwiY291bnQiLCJuZXh0IiwidW5kZWZpbmVkIiwicHJldmlvdXMiLCJwYWdlX3NpemUiLCJjdXJyZW50X3BhZ2UiLCJ0b3RhbF9wYWdlcyIsImhhc19uZXh0IiwiaGFzX3ByZXZpb3VzIiwiZmlsdGVycyIsInNldEZpbHRlcnMiLCJoYXNOZXh0Iiwic2V0SGFzTmV4dCIsInVwZGF0ZUZpbHRlciIsImtleSIsInZhbHVlIiwicHJldiIsImNsZWFyRXJyb3IiLCJsb2FkTW9yZSIsImZldGNoUHJvcGVydGllcyIsInJlZmV0Y2giLCJ1cmwiLCJyZXNwb25zZSIsImdldFByb3BlcnRpZXMiLCJyZXN1bHRzIiwibmV3UGFnaW5hdGlvbiIsInBhcnNlSW50IiwiVVJMIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwiTWF0aCIsImNlaWwiLCJlcnIiLCJFcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJBcnJheSIsImlzQXJyYXkiLCJ2IiwiYXBwZW5kIiwidG9TdHJpbmciLCJxdWVyeVN0cmluZyIsInVzZVByb3BlcnR5IiwiaWQiLCJwcm9wZXJ0eSIsInNldFByb3BlcnR5IiwiZmV0Y2hQcm9wZXJ0eSIsInByb3BlcnR5RGF0YSIsImdldFByb3BlcnR5IiwidXNlRmVhdHVyZWRQcm9wZXJ0aWVzIiwiZmV0Y2hGZWF0dXJlZFByb3BlcnRpZXMiLCJnZXRGZWF0dXJlZFByb3BlcnRpZXMiLCJ1c2VQcm9wZXJ0eVNlYXJjaCIsInNldFJlc3VsdHMiLCJzZWFyY2hQcm9wZXJ0aWVzIiwidXNlU2ltaWxhclByb3BlcnRpZXMiLCJmZXRjaFNpbWlsYXJQcm9wZXJ0aWVzIiwiZ2V0U2ltaWxhclByb3BlcnRpZXMiLCJ1c2VJbnZlc3RtZW50T3Bwb3J0dW5pdGllcyIsImZldGNoSW52ZXN0bWVudE9wcG9ydHVuaXRpZXMiLCJnZXRJbnZlc3RtZW50T3Bwb3J0dW5pdGllcyIsInVzZVByb3BlcnR5TWFwRGF0YSIsImZldGNoTWFwRGF0YSIsImdldE1hcERhdGEiLCJ1c2VQcm9wZXJ0eVRyYWNraW5nIiwidHJhY2tWaWV3IiwicHJvcGVydHlJZCIsInRyYWNrRmF2b3JpdGUiLCJhZGRGYXZvcml0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useProperties.ts\n"));

/***/ })

});