"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/[locale]/properties/page",{

/***/ "(app-pages-browser)/./src/lib/api/properties.ts":
/*!***********************************!*\
  !*** ./src/lib/api/properties.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PropertiesAPI: function() { return /* binding */ PropertiesAPI; },\n/* harmony export */   addFavorite: function() { return /* binding */ addFavorite; },\n/* harmony export */   contactAgent: function() { return /* binding */ contactAgent; },\n/* harmony export */   generateReport: function() { return /* binding */ generateReport; },\n/* harmony export */   getFeaturedProperties: function() { return /* binding */ getFeaturedProperties; },\n/* harmony export */   getInvestmentOpportunities: function() { return /* binding */ getInvestmentOpportunities; },\n/* harmony export */   getMapData: function() { return /* binding */ getMapData; },\n/* harmony export */   getNewProperties: function() { return /* binding */ getNewProperties; },\n/* harmony export */   getProperties: function() { return /* binding */ getProperties; },\n/* harmony export */   getPropertiesByAgent: function() { return /* binding */ getPropertiesByAgent; },\n/* harmony export */   getPropertiesByBounds: function() { return /* binding */ getPropertiesByBounds; },\n/* harmony export */   getPropertiesByLocation: function() { return /* binding */ getPropertiesByLocation; },\n/* harmony export */   getPropertiesByPriceRange: function() { return /* binding */ getPropertiesByPriceRange; },\n/* harmony export */   getPropertiesByType: function() { return /* binding */ getPropertiesByType; },\n/* harmony export */   getPropertiesForRent: function() { return /* binding */ getPropertiesForRent; },\n/* harmony export */   getPropertiesForSale: function() { return /* binding */ getPropertiesForSale; },\n/* harmony export */   getPropertiesWithDiscount: function() { return /* binding */ getPropertiesWithDiscount; },\n/* harmony export */   getProperty: function() { return /* binding */ getProperty; },\n/* harmony export */   getPropertyAI: function() { return /* binding */ getPropertyAI; },\n/* harmony export */   getPropertyAgent: function() { return /* binding */ getPropertyAgent; },\n/* harmony export */   getPropertyAnalytics: function() { return /* binding */ getPropertyAnalytics; },\n/* harmony export */   getPropertyFinancials: function() { return /* binding */ getPropertyFinancials; },\n/* harmony export */   getPropertyLegal: function() { return /* binding */ getPropertyLegal; },\n/* harmony export */   getPropertyLocation: function() { return /* binding */ getPropertyLocation; },\n/* harmony export */   getPropertyMarketing: function() { return /* binding */ getPropertyMarketing; },\n/* harmony export */   getPropertyMedia: function() { return /* binding */ getPropertyMedia; },\n/* harmony export */   getReport: function() { return /* binding */ getReport; },\n/* harmony export */   getSimilarProperties: function() { return /* binding */ getSimilarProperties; },\n/* harmony export */   getStats: function() { return /* binding */ getStats; },\n/* harmony export */   propertiesApi: function() { return /* binding */ propertiesApi; },\n/* harmony export */   scheduleTour: function() { return /* binding */ scheduleTour; },\n/* harmony export */   searchProperties: function() { return /* binding */ searchProperties; },\n/* harmony export */   trackView: function() { return /* binding */ trackView; }\n/* harmony export */ });\n/**\n * Properties API - Cliente API para propiedades\n * Panama Golden Key PropTech - API client para arquitectura angelical\n */ // Función para normalizar URLs de imágenes\nconst normalizeImageUrl = (imageUrl)=>{\n    if (!imageUrl) return null;\n    console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: input:\", imageUrl);\n    // En desarrollo, usar proxy para URLs relativas y localhost\n    if (true) {\n        // Si es una URL HTTPS completa, usar proxy\n        if (imageUrl.startsWith(\"https://\")) {\n            const url = new URL(imageUrl);\n            const proxyUrl = \"/api/proxy/media\".concat(url.pathname);\n            console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: HTTPS -> proxy:\", proxyUrl);\n            return proxyUrl;\n        }\n        // Si es localhost, usar proxy\n        if (imageUrl.includes(\"localhost\")) {\n            const url = new URL(imageUrl);\n            const proxyUrl = \"/api/proxy/media\".concat(url.pathname);\n            console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: localhost -> proxy:\", proxyUrl);\n            return proxyUrl;\n        }\n        // Si es una ruta relativa, usar proxy\n        if (imageUrl.startsWith(\"/\")) {\n            const proxyUrl = \"/api/proxy/media\".concat(imageUrl);\n            console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: relative -> proxy:\", proxyUrl);\n            return proxyUrl;\n        }\n        // Si es una ruta sin / inicial\n        const proxyUrl = \"/api/proxy/media/\".concat(imageUrl);\n        console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: no slash -> proxy:\", proxyUrl);\n        return proxyUrl;\n    }\n    // En producción, devolver URLs HTTPS tal cual\n    if (imageUrl.startsWith(\"https:///\")) {\n        console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: production HTTPS:\", imageUrl);\n        return imageUrl;\n    }\n    // Si es una ruta relativa en producción, construir URL completa\n    const mediaUrl = \"https://engine.panamagoldenkey.com\" || 0;\n    const fullUrl = imageUrl.startsWith(\"/\") ? \"\".concat(mediaUrl).concat(imageUrl) : \"\".concat(mediaUrl, \"/\").concat(imageUrl);\n    console.log(\"\\uD83D\\uDDBC️ normalizeImageUrl: production full URL:\", fullUrl);\n    return fullUrl;\n};\n// Función para normalizar objetos de media\nconst normalizeMedia = (mediaItem)=>{\n    var _mediaItem_id, _mediaItem_property;\n    return {\n        id: ((_mediaItem_id = mediaItem.id) === null || _mediaItem_id === void 0 ? void 0 : _mediaItem_id.toString()) || \"1\",\n        property: ((_mediaItem_property = mediaItem.property) === null || _mediaItem_property === void 0 ? void 0 : _mediaItem_property.toString()) || \"1\",\n        image_cover: normalizeImageUrl(mediaItem.image_cover || mediaItem.url || mediaItem.image || \"\") || \"\",\n        gallery: Array.isArray(mediaItem.gallery) ? mediaItem.gallery.map((img)=>normalizeImageUrl(img) || \"\") : [],\n        video_tour_url: mediaItem.video_tour_url || null,\n        virtual_tour_url: mediaItem.virtual_tour_url || null,\n        floor_plan_pdf: mediaItem.floor_plan_pdf || null,\n        brochure_pdf: mediaItem.brochure_pdf || null,\n        drone_shots: Array.isArray(mediaItem.drone_shots) ? mediaItem.drone_shots.map((img)=>normalizeImageUrl(img) || \"\") : [],\n        night_photos: Array.isArray(mediaItem.night_photos) ? mediaItem.night_photos.map((img)=>normalizeImageUrl(img) || \"\") : [],\n        interior_photos: Array.isArray(mediaItem.interior_photos) ? mediaItem.interior_photos.map((img)=>normalizeImageUrl(img) || \"\") : [],\n        exterior_photos: Array.isArray(mediaItem.exterior_photos) ? mediaItem.exterior_photos.map((img)=>normalizeImageUrl(img) || \"\") : [],\n        neighborhood_video: mediaItem.neighborhood_video || null,\n        drone_video: mediaItem.drone_video || null,\n        total_images: mediaItem.total_images || 0,\n        total_videos: mediaItem.total_videos || 0,\n        has_virtual_tour: mediaItem.has_virtual_tour || false,\n        has_floor_plan: mediaItem.has_floor_plan || false,\n        media_quality_score: mediaItem.media_quality_score || null,\n        last_media_update: mediaItem.last_media_update || null,\n        created_at: mediaItem.created_at || new Date().toISOString(),\n        updated_at: mediaItem.updated_at || new Date().toISOString(),\n        // Propiedades calculadas\n        all_images: Array.isArray(mediaItem.gallery) ? mediaItem.gallery.map((img)=>({\n                url: normalizeImageUrl(img) || \"\",\n                type: \"image\",\n                description: mediaItem.caption || mediaItem.title || \"\"\n            })) : [],\n        all_videos: [],\n        has_rich_media: !!(mediaItem.video_tour_url || mediaItem.virtual_tour_url),\n        media_completeness_score: mediaItem.media_completeness_score || 0,\n        is_media_complete: mediaItem.is_media_complete || false\n    };\n};\n// Determinar si estamos en desarrollo o producción\nconst getApiBaseUrl = ()=>{\n    // En desarrollo, siempre usar proxy\n    if (true) {\n        console.log(\"getApiBaseUrl - Using proxy for development\");\n        return \"/api/proxy/properties\";\n    }\n    // En producción, usar API directa\n    console.log(\"getApiBaseUrl - Using direct API for production\");\n    return \"https://engine.panamagoldenkey.com/api\" || 0;\n};\nconst API_BASE_URL = getApiBaseUrl();\nclass PropertiesAPI {\n    async request(endpoint) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        // Construir la URL correctamente para el proxy y la API directa\n        let url;\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        // Debug logs\n        console.log(\"request method called:\");\n        console.log(\"- Base URL:\", this.baseUrl);\n        console.log(\"- Endpoint:\", endpoint);\n        console.log(\"- Is using proxy:\", isUsingProxy);\n        console.log(\"- Window hostname:\",  true ? window.location.hostname : 0);\n        if (isUsingProxy) {\n            // En desarrollo, el endpoint ya incluye la ruta completa\n            if (endpoint === \"/\") {\n                url = this.baseUrl;\n            } else {\n                // Para el proxy, no añadir /properties/ ya que está en la baseUrl\n                const cleanEndpoint = endpoint.replace(\"/properties/\", \"\");\n                url = \"\".concat(this.baseUrl).concat(cleanEndpoint.startsWith(\"/\") ? cleanEndpoint : \"/\" + cleanEndpoint);\n            }\n        } else {\n            // En producción, usar la API directa - CORRECCIÓN: no duplicar /properties/\n            // La baseUrl ya termina en /api, así que solo hay que añadir el endpoint\n            if (endpoint.startsWith(\"/properties/\")) {\n                // Si el endpoint ya incluye /properties/, solo añadirlo a la baseUrl\n                url = \"\".concat(this.baseUrl).concat(endpoint);\n            } else {\n                // Si el endpoint no incluye /properties/, añadirlo\n                url = \"\".concat(this.baseUrl, \"/properties\").concat(endpoint);\n            }\n        }\n        console.log(\"- Final URL:\", url);\n        const defaultHeaders = {\n            \"Content-Type\": \"application/json\"\n        };\n        const config = {\n            ...options,\n            headers: {\n                ...defaultHeaders,\n                ...options.headers\n            }\n        };\n        try {\n            console.log(\"Making \".concat(config.method || \"GET\", \" request to:\"), url);\n            const response = await fetch(url, config);\n            if (!response.ok) {\n                // Intentar obtener el error como JSON primero\n                let errorData = {};\n                try {\n                    const errorText = await response.text();\n                    if (errorText) {\n                        try {\n                            errorData = JSON.parse(errorText);\n                        } catch (e) {\n                            // Si no es JSON, usar el texto como mensaje\n                            errorData = {\n                                error: errorText\n                            };\n                        }\n                    }\n                } catch (e) {\n                // Si no se puede leer el cuerpo, usar solo el status\n                }\n                const errorMessage = errorData.error || errorData.message || errorData.detail || \"Error \".concat(response.status, \": \").concat(response.statusText);\n                throw new Error(errorMessage);\n            }\n            const data = await response.json();\n            // Normalizar URLs de imágenes en la respuesta\n            if (data && typeof data === \"object\") {\n                // Si es una respuesta de propiedades\n                if (data.results && Array.isArray(data.results)) {\n                    data.results = data.results.map((property)=>{\n                        const normalizedProperty = {\n                            ...property,\n                            image_url: normalizeImageUrl(property.image_url)\n                        };\n                        // También normalizar URLs en media si existe\n                        if (property.media && typeof property.media === \"object\") {\n                            normalizedProperty.media = {\n                                ...property.media,\n                                // Normalizar image_cover si existe\n                                image_cover: normalizeImageUrl(property.media.image_cover),\n                                // Normalizar arrays de imágenes si existen y son arrays\n                                gallery: Array.isArray(property.media.gallery) ? property.media.gallery.map((img)=>normalizeImageUrl(img)) : [],\n                                drone_shots: Array.isArray(property.media.drone_shots) ? property.media.drone_shots.map((img)=>normalizeImageUrl(img)) : [],\n                                night_photos: Array.isArray(property.media.night_photos) ? property.media.night_photos.map((img)=>normalizeImageUrl(img)) : [],\n                                interior_photos: Array.isArray(property.media.interior_photos) ? property.media.interior_photos.map((img)=>normalizeImageUrl(img)) : [],\n                                exterior_photos: Array.isArray(property.media.exterior_photos) ? property.media.exterior_photos.map((img)=>normalizeImageUrl(img)) : [],\n                                // Normalizar URLs individuales si existen\n                                video_tour_url: property.media.video_tour_url,\n                                virtual_tour_url: property.media.virtual_tour_url,\n                                floor_plan_pdf: property.media.floor_plan_pdf,\n                                brochure_pdf: property.media.brochure_pdf,\n                                neighborhood_video: property.media.neighborhood_video,\n                                drone_video: property.media.drone_video\n                            };\n                        }\n                        return normalizedProperty;\n                    });\n                }\n                // Si es una propiedad individual\n                if (data.image_url) {\n                    data.image_url = normalizeImageUrl(data.image_url);\n                }\n                // Normalizar URLs en media si existe\n                if (data.media && typeof data.media === \"object\") {\n                    data.media = {\n                        ...data.media,\n                        // Normalizar image_cover si existe\n                        image_cover: normalizeImageUrl(data.media.image_cover),\n                        // Normalizar arrays de imágenes si existen y son arrays\n                        gallery: Array.isArray(data.media.gallery) ? data.media.gallery.map((img)=>normalizeImageUrl(img)) : [],\n                        drone_shots: Array.isArray(data.media.drone_shots) ? data.media.drone_shots.map((img)=>normalizeImageUrl(img)) : [],\n                        night_photos: Array.isArray(data.media.night_photos) ? data.media.night_photos.map((img)=>normalizeImageUrl(img)) : [],\n                        interior_photos: Array.isArray(data.media.interior_photos) ? data.media.interior_photos.map((img)=>normalizeImageUrl(img)) : [],\n                        exterior_photos: Array.isArray(data.media.exterior_photos) ? data.media.exterior_photos.map((img)=>normalizeImageUrl(img)) : [],\n                        // Normalizar URLs individuales si existen\n                        video_tour_url: data.media.video_tour_url,\n                        virtual_tour_url: data.media.virtual_tour_url,\n                        floor_plan_pdf: data.media.floor_plan_pdf,\n                        brochure_pdf: data.media.brochure_pdf,\n                        neighborhood_video: data.media.neighborhood_video,\n                        drone_video: data.media.drone_video\n                    };\n                }\n            }\n            return data;\n        } catch (error) {\n            if (error instanceof Error) {\n                throw error;\n            }\n            throw new Error(\"Network error occurred\");\n        }\n    }\n    // Obtener todas las propiedades con paginación y filtros\n    async getProperties(url) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = url || (isUsingProxy ? \"\" : \"/\");\n        console.log(\"DEBUG getProperties: url=\".concat(url, \", isUsingProxy=\").concat(isUsingProxy, \", endpoint=\").concat(endpoint));\n        return this.request(endpoint);\n    }\n    // Obtener una propiedad específica\n    async getProperty(id) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        // Si usamos proxy, el endpoint es solo el ID sin el prefijo \"properties\"\n        // CORRECCIÓN: Eliminar la barra final para evitar 404s\n        const endpoint = isUsingProxy ? \"/\".concat(id) : \"/properties/\".concat(id, \"/\");\n        console.log(\"DEBUG getProperty: id=\".concat(id, \", isUsingProxy=\").concat(isUsingProxy, \", endpoint=\").concat(endpoint));\n        return this.request(endpoint);\n    }\n    // Obtener propiedades destacadas\n    async getFeaturedProperties() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/featured/\" : \"/properties/featured/\";\n        return this.request(endpoint);\n    }\n    // Buscar propiedades\n    async searchProperties(filters) {\n        const params = new URLSearchParams();\n        Object.entries(filters).forEach((param)=>{\n            let [key, value] = param;\n            if (value !== undefined && value !== null && value !== \"\") {\n                if (Array.isArray(value)) {\n                    value.forEach((v)=>params.append(key, v.toString()));\n                } else {\n                    params.append(key, value.toString());\n                }\n            }\n        });\n        const queryString = params.toString();\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/search/\".concat(queryString ? \"?\".concat(queryString) : \"\") : \"/properties/search/\".concat(queryString ? \"?\".concat(queryString) : \"\");\n        return this.request(endpoint);\n    }\n    // Obtener propiedades similares\n    async getSimilarProperties(id) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(id, \"/similar/\") : \"/properties/\".concat(id, \"/similar/\");\n        return this.request(endpoint);\n    }\n    // Obtener oportunidades de inversión\n    async getInvestmentOpportunities() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/investment-opportunities/\" : \"/properties/investment-opportunities/\";\n        return this.request(endpoint);\n    }\n    // Obtener datos para mapa\n    async getMapData() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/map-data/\" : \"/properties/map-data/\";\n        return this.request(endpoint);\n    }\n    // Obtener estadísticas de propiedades\n    async getStats() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/stats/\" : \"/properties/stats/\";\n        return this.request(endpoint);\n    }\n    // Registrar visualización de propiedad\n    async trackView(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/track-view/\") : \"/properties/\".concat(propertyId, \"/track-view/\");\n        await this.request(endpoint, {\n            method: \"POST\"\n        });\n    }\n    // Agregar propiedad a favoritos\n    async addFavorite(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/add-favorite/\") : \"/properties/\".concat(propertyId, \"/add-favorite/\");\n        await this.request(endpoint, {\n            method: \"POST\"\n        });\n    }\n    // Contactar agente\n    async contactAgent(propertyId, formData) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/contact-agent/\") : \"/properties/\".concat(propertyId, \"/contact-agent/\");\n        await this.request(endpoint, {\n            method: \"POST\",\n            body: JSON.stringify(formData)\n        });\n    }\n    // Programar tour\n    async scheduleTour(propertyId, formData) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/schedule-tour/\") : \"/properties/\".concat(propertyId, \"/schedule-tour/\");\n        await this.request(endpoint, {\n            method: \"POST\",\n            body: JSON.stringify(formData)\n        });\n    }\n    // Generar reporte de propiedad\n    async generateReport(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/generate-report/\") : \"/properties/\".concat(propertyId, \"/generate-report/\");\n        return this.request(endpoint, {\n            method: \"POST\"\n        });\n    }\n    // Obtener reporte de propiedad\n    async getReport(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/report/\") : \"/properties/\".concat(propertyId, \"/report/\");\n        return this.request(endpoint);\n    }\n    // Obtener propiedades por bounds del mapa\n    async getPropertiesByBounds(bounds) {\n        const params = new URLSearchParams({\n            ne_lat: bounds.northEast.lat.toString(),\n            ne_lng: bounds.northEast.lng.toString(),\n            sw_lat: bounds.southWest.lat.toString(),\n            sw_lng: bounds.southWest.lng.toString()\n        });\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/by-bounds/?\".concat(params) : \"/properties/by-bounds/?\".concat(params);\n        return this.request(endpoint);\n    }\n    // Obtener propiedades por agente\n    async getPropertiesByAgent(agentId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/by-agent/\".concat(agentId, \"/\") : \"/properties/by-agent/\".concat(agentId, \"/\");\n        return this.request(endpoint);\n    }\n    // Obtener propiedades por tipo\n    async getPropertiesByType(propertyType) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/by-type/\".concat(propertyType, \"/\") : \"/properties/by-type/\".concat(propertyType, \"/\");\n        return this.request(endpoint);\n    }\n    // Obtener propiedades por ubicación\n    async getPropertiesByLocation(location) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/by-location/\".concat(location, \"/\") : \"/properties/by-location/\".concat(location, \"/\");\n        return this.request(endpoint);\n    }\n    // Obtener propiedades por rango de precios\n    async getPropertiesByPriceRange(minPrice, maxPrice) {\n        const params = new URLSearchParams({\n            min_price: minPrice.toString(),\n            max_price: maxPrice.toString()\n        });\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/by-price-range/?\".concat(params) : \"/properties/by-price-range/?\".concat(params);\n        return this.request(endpoint);\n    }\n    // Obtener propiedades con descuento\n    async getPropertiesWithDiscount() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/with-discount/\" : \"/properties/with-discount/\";\n        return this.request(endpoint);\n    }\n    // Obtener propiedades nuevas\n    async getNewProperties() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/new/\" : \"/properties/new/\";\n        return this.request(endpoint);\n    }\n    // Obtener propiedades en venta\n    async getPropertiesForSale() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/for-sale/\" : \"/properties/for-sale/\";\n        return this.request(endpoint);\n    }\n    // Obtener propiedades en alquiler\n    async getPropertiesForRent() {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/for-rent/\" : \"/properties/for-rent/\";\n        return this.request(endpoint);\n    }\n    // Métodos para obtener datos específicos de la arquitectura angelical\n    // Obtener datos financieros de una propiedad\n    async getPropertyFinancials(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/financials/\") : \"/properties/\".concat(propertyId, \"/financials/\");\n        return this.request(endpoint);\n    }\n    // Obtener datos de ubicación de una propiedad\n    async getPropertyLocation(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/location/\") : \"/properties/\".concat(propertyId, \"/location/\");\n        return this.request(endpoint);\n    }\n    // Obtener medios de una propiedad\n    async getPropertyMedia(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/media/\") : \"/properties/\".concat(propertyId, \"/media/\");\n        return this.request(endpoint);\n    }\n    // Obtener información del agente de una propiedad\n    async getPropertyAgent(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/agent/\") : \"/properties/\".concat(propertyId, \"/agent/\");\n        return this.request(endpoint);\n    }\n    // Obtener información legal de una propiedad\n    async getPropertyLegal(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/legal/\") : \"/properties/\".concat(propertyId, \"/legal/\");\n        return this.request(endpoint);\n    }\n    // Obtener análisis de IA de una propiedad\n    async getPropertyAI(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/ai/\") : \"/properties/\".concat(propertyId, \"/ai/\");\n        return this.request(endpoint);\n    }\n    // Obtener datos de marketing de una propiedad\n    async getPropertyMarketing(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/marketing/\") : \"/properties/\".concat(propertyId, \"/marketing/\");\n        return this.request(endpoint);\n    }\n    // Obtener analíticas de una propiedad\n    async getPropertyAnalytics(propertyId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/analytics/\") : \"/properties/\".concat(propertyId, \"/analytics/\");\n        return this.request(endpoint);\n    }\n    // Métodos de administración (requieren autenticación)\n    // Crear propiedad\n    async createProperty(propertyData) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\" : \"/properties/\";\n        return this.request(endpoint, {\n            method: \"POST\",\n            body: JSON.stringify(propertyData)\n        });\n    }\n    // Actualizar propiedad\n    async updateProperty(id, propertyData) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(id, \"/\") : \"/properties/\".concat(id, \"/\");\n        return this.request(endpoint, {\n            method: \"PATCH\",\n            body: JSON.stringify(propertyData)\n        });\n    }\n    // Eliminar propiedad\n    async deleteProperty(id) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(id, \"/\") : \"/properties/\".concat(id, \"/\");\n        await this.request(endpoint, {\n            method: \"DELETE\"\n        });\n    }\n    // Subir imagen de propiedad\n    async uploadPropertyImage(propertyId, imageFile) {\n        const formData = new FormData();\n        formData.append(\"image\", imageFile);\n        formData.append(\"property\", propertyId);\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/upload-image/\") : \"/properties/\".concat(propertyId, \"/upload-image/\");\n        return this.request(endpoint, {\n            method: \"POST\",\n            body: formData,\n            headers: {}\n        });\n    }\n    // Eliminar imagen de propiedad\n    async deletePropertyImage(propertyId, imageId) {\n        const isUsingProxy = this.baseUrl.includes(\"/api/proxy\");\n        const endpoint = isUsingProxy ? \"/\".concat(propertyId, \"/media/\").concat(imageId, \"/\") : \"/properties/\".concat(propertyId, \"/media/\").concat(imageId, \"/\");\n        await this.request(endpoint, {\n            method: \"DELETE\"\n        });\n    }\n    constructor(baseUrl = API_BASE_URL){\n        this.baseUrl = baseUrl;\n    }\n}\n// Exportar instancia única del API\nconst propertiesApi = new PropertiesAPI();\n// Exportar clase para casos de uso avanzados\n\n// Exportar funciones de conveniencia\nconst getProperties = (url)=>propertiesApi.getProperties(url);\nconst getProperty = (id)=>propertiesApi.getProperty(id);\nconst getFeaturedProperties = ()=>propertiesApi.getFeaturedProperties();\nconst searchProperties = (filters)=>propertiesApi.searchProperties(filters);\nconst getSimilarProperties = (id)=>propertiesApi.getSimilarProperties(id);\nconst getInvestmentOpportunities = ()=>propertiesApi.getInvestmentOpportunities();\nconst getMapData = ()=>propertiesApi.getMapData();\nconst getStats = ()=>propertiesApi.getStats();\nconst trackView = (propertyId)=>propertiesApi.trackView(propertyId);\nconst addFavorite = (propertyId)=>propertiesApi.addFavorite(propertyId);\nconst contactAgent = (propertyId, formData)=>propertiesApi.contactAgent(propertyId, formData);\nconst scheduleTour = (propertyId, formData)=>propertiesApi.scheduleTour(propertyId, formData);\nconst generateReport = (propertyId)=>propertiesApi.generateReport(propertyId);\nconst getReport = (propertyId)=>propertiesApi.getReport(propertyId);\nconst getPropertiesByBounds = (bounds)=>propertiesApi.getPropertiesByBounds(bounds);\nconst getPropertiesByAgent = (agentId)=>propertiesApi.getPropertiesByAgent(agentId);\nconst getPropertiesByType = (propertyType)=>propertiesApi.getPropertiesByType(propertyType);\nconst getPropertiesByLocation = (location)=>propertiesApi.getPropertiesByLocation(location);\nconst getPropertiesByPriceRange = (minPrice, maxPrice)=>propertiesApi.getPropertiesByPriceRange(minPrice, maxPrice);\nconst getPropertiesWithDiscount = ()=>propertiesApi.getPropertiesWithDiscount();\nconst getNewProperties = ()=>propertiesApi.getNewProperties();\nconst getPropertiesForSale = ()=>propertiesApi.getPropertiesForSale();\nconst getPropertiesForRent = ()=>propertiesApi.getPropertiesForRent();\n// Métodos específicos de arquitectura angelical\nconst getPropertyFinancials = (propertyId)=>propertiesApi.getPropertyFinancials(propertyId);\nconst getPropertyLocation = (propertyId)=>propertiesApi.getPropertyLocation(propertyId);\nconst getPropertyMedia = (propertyId)=>propertiesApi.getPropertyMedia(propertyId);\nconst getPropertyAgent = (propertyId)=>propertiesApi.getPropertyAgent(propertyId);\nconst getPropertyLegal = (propertyId)=>propertiesApi.getPropertyLegal(propertyId);\nconst getPropertyAI = (propertyId)=>propertiesApi.getPropertyAI(propertyId);\nconst getPropertyMarketing = (propertyId)=>propertiesApi.getPropertyMarketing(propertyId);\nconst getPropertyAnalytics = (propertyId)=>propertiesApi.getPropertyAnalytics(propertyId);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXBpL3Byb3BlcnRpZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBdUJELDJDQUEyQztBQUMzQyxNQUFNQSxvQkFBb0IsQ0FBQ0M7SUFDekIsSUFBSSxDQUFDQSxVQUFVLE9BQU87SUFFdEJDLFFBQVFDLEdBQUcsQ0FBQywyQ0FBaUNGO0lBRTdDLDREQUE0RDtJQUM1RCxJQUFJRyxJQUF5QixFQUFlO1FBQzFDLDJDQUEyQztRQUMzQyxJQUFJSCxTQUFTSSxVQUFVLENBQUMsYUFBYTtZQUNuQyxNQUFNQyxNQUFNLElBQUlDLElBQUlOO1lBQ3BCLE1BQU1PLFdBQVcsbUJBQWdDLE9BQWJGLElBQUlHLFFBQVE7WUFDaERQLFFBQVFDLEdBQUcsQ0FBQyxvREFBMENLO1lBQ3RELE9BQU9BO1FBQ1Q7UUFFQSw4QkFBOEI7UUFDOUIsSUFBSVAsU0FBU1MsUUFBUSxDQUFDLGNBQWM7WUFDbEMsTUFBTUosTUFBTSxJQUFJQyxJQUFJTjtZQUNwQixNQUFNTyxXQUFXLG1CQUFnQyxPQUFiRixJQUFJRyxRQUFRO1lBQ2hEUCxRQUFRQyxHQUFHLENBQUMsd0RBQThDSztZQUMxRCxPQUFPQTtRQUNUO1FBRUEsc0NBQXNDO1FBQ3RDLElBQUlQLFNBQVNJLFVBQVUsQ0FBQyxNQUFNO1lBQzVCLE1BQU1HLFdBQVcsbUJBQTRCLE9BQVRQO1lBQ3BDQyxRQUFRQyxHQUFHLENBQUMsdURBQTZDSztZQUN6RCxPQUFPQTtRQUNUO1FBRUEsK0JBQStCO1FBQy9CLE1BQU1BLFdBQVcsb0JBQTZCLE9BQVRQO1FBQ3JDQyxRQUFRQyxHQUFHLENBQUMsdURBQTZDSztRQUN6RCxPQUFPQTtJQUNUO0lBRUEsOENBQThDO0lBQzlDLElBQUlQLFNBQVNJLFVBQVUsQ0FBQyxjQUFjO1FBQ3BDSCxRQUFRQyxHQUFHLENBQUMsc0RBQTRDRjtRQUN4RCxPQUFPQTtJQUNUO0lBRUEs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QUN6QyxNQUFNbUMsbUJBQW1CLENBQUNuQyxhQUMvQm1ELGNBQWNoQixnQkFBZ0IsQ0FBQ25DLFlBQVk7QUFDdEMsTUFBTW9DLG1CQUFtQixDQUFDcEMsYUFDL0JtRCxjQUFjZixnQkFBZ0IsQ0FBQ3BDLFlBQVk7QUFDdEMsTUFBTXFDLG1CQUFtQixDQUFDckMsYUFDL0JtRCxjQUFjZCxnQkFBZ0IsQ0FBQ3JDLFlBQVk7QUFDdEMsTUFBTXNDLGdCQUFnQixDQUFDdEMsYUFDNUJtRCxjQUFjYixhQUFhLENBQUN0QyxZQUFZO0FBQ25DLE1BQU11Qyx1QkFBdUIsQ0FBQ3ZDLGFBQ25DbUQsY0FBY1osb0JBQW9CLENBQUN2QyxZQUFZO0FBQzFDLE1BQU13Qyx1QkFBdUIsQ0FBQ3hDLGFBQ25DbUQsY0FBY1gsb0JBQW9CLENBQUN4QyxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvYXBpL3Byb3BlcnRpZXMudHM/MmQyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFByb3BlcnRpZXMgQVBJIC0gQ2xpZW50ZSBBUEkgcGFyYSBwcm9waWVkYWRlc1xuICogUGFuYW1hIEdvbGRlbiBLZXkgUHJvcFRlY2ggLSBBUEkgY2xpZW50IHBhcmEgYXJxdWl0ZWN0dXJhIGFuZ2VsaWNhbFxuICovXG5cbmltcG9ydCB7XG4gIFByb3BlcnR5LFxuICBQcm9wZXJ0eUZpbHRlcnMsXG4gIFByb3BlcnR5UmVzcG9uc2UsXG4gIFByb3BlcnR5UGFnaW5hdGlvbixcbiAgUHJvcGVydHlTdGF0cyxcbiAgUHJvcGVydHlBbmFseXRpY3MsXG4gIFByb3BlcnR5RmluYW5jaWFscyxcbiAgUHJvcGVydHlMb2NhdGlvbixcbiAgUHJvcGVydHlNZWRpYSxcbiAgUHJvcGVydHlBZ2VudCxcbiAgUHJvcGVydHlMZWdhbCxcbiAgUHJvcGVydHlBSSxcbiAgUHJvcGVydHlNYXJrZXRpbmcsXG4gIENvbnRhY3RBZ2VudEZvcm0sXG4gIFNjaGVkdWxlVG91ckZvcm0sXG4gIE1hcEJvdW5kcyxcbiAgUHJvcGVydHlSZXBvcnQsXG4gIFByb3BlcnR5UmVwb3J0UmVzcG9uc2UsXG59IGZyb20gXCJAL3R5cGVzL3Byb3BlcnRpZXNcIjtcblxuLy8gRnVuY2nDs24gcGFyYSBub3JtYWxpemFyIFVSTHMgZGUgaW3DoWdlbmVzXG5jb25zdCBub3JtYWxpemVJbWFnZVVybCA9IChpbWFnZVVybDogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBpZiAoIWltYWdlVXJsKSByZXR1cm4gbnVsbDtcbiAgXG4gIGNvbnNvbGUubG9nKFwi8J+WvO+4jyBub3JtYWxpemVJbWFnZVVybDogaW5wdXQ6XCIsIGltYWdlVXJsKTtcbiAgXG4gIC8vIEVuIGRlc2Fycm9sbG8sIHVzYXIgcHJveHkgcGFyYSBVUkxzIHJlbGF0aXZhcyB5IGxvY2FsaG9zdFxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAvLyBTaSBlcyB1bmEgVVJMIEhUVFBTIGNvbXBsZXRhLCB1c2FyIHByb3h5XG4gICAgaWYgKGltYWdlVXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoaW1hZ2VVcmwpO1xuICAgICAgY29uc3QgcHJveHlVcmwgPSBgL2FwaS9wcm94eS9tZWRpYSR7dXJsLnBhdGhuYW1lfWA7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflrzvuI8gbm9ybWFsaXplSW1hZ2VVcmw6IEhUVFBTIC0+IHByb3h5OlwiLCBwcm94eVVybCk7XG4gICAgICByZXR1cm4gcHJveHlVcmw7XG4gICAgfVxuICAgIFxuICAgIC8vIFNpIGVzIGxvY2FsaG9zdCwgdXNhciBwcm94eVxuICAgIGlmIChpbWFnZVVybC5pbmNsdWRlcygnbG9jYWxob3N0JykpIHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoaW1hZ2VVcmwpO1xuICAgICAgY29uc3QgcHJveHlVcmwgPSBgL2FwaS9wcm94eS9tZWRpYSR7dXJsLnBhdGhuYW1lfWA7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflrzvuI8gbm9ybWFsaXplSW1hZ2VVcmw6IGxvY2FsaG9zdCAtPiBwcm94eTpcIiwgcHJveHlVcmwpO1xuICAgICAgcmV0dXJuIHByb3h5VXJsO1xuICAgIH1cbiAgICBcbiAgICAvLyBTaSBlcyB1bmEgcnV0YSByZWxhdGl2YSwgdXNhciBwcm94eVxuICAgIGlmIChpbWFnZVVybC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgIGNvbnN0IHByb3h5VXJsID0gYC9hcGkvcHJveHkvbWVkaWEke2ltYWdlVXJsfWA7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflrzvuI8gbm9ybWFsaXplSW1hZ2VVcmw6IHJlbGF0aXZlIC0+IHByb3h5OlwiLCBwcm94eVVybCk7XG4gICAgICByZXR1cm4gcHJveHlVcmw7XG4gICAgfVxuICAgIFxuICAgIC8vIFNpIGVzIHVuYSBydXRhIHNpbiAvIGluaWNpYWxcbiAgICBjb25zdCBwcm94eVVybCA9IGAvYXBpL3Byb3h5L21lZGlhLyR7aW1hZ2VVcmx9YDtcbiAgICBjb25zb2xlLmxvZyhcIvCflrzvuI8gbm9ybWFsaXplSW1hZ2VVcmw6IG5vIHNsYXNoIC0+IHByb3h5OlwiLCBwcm94eVVybCk7XG4gICAgcmV0dXJuIHByb3h5VXJsO1xuICB9XG4gIFxuICAvLyBFbiBwcm9kdWNjacOzbiwgZGV2b2x2ZXIgVVJMcyBIVFRQUyB0YWwgY3VhbFxuICBpZiAoaW1hZ2VVcmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8vJykpIHtcbiAgICBjb25zb2xlLmxvZyhcIvCflrzvuI8gbm9ybWFsaXplSW1hZ2VVcmw6IHByb2R1Y3Rpb24gSFRUUFM6XCIsIGltYWdlVXJsKTtcbiAgICByZXR1cm4gaW1hZ2VVcmw7XG4gIH1cbiAgXG4gIC8vIFNpIGVzIHVuYSBydXRhIHJlbGF0aXZhIGVuIHByb2R1Y2Npw7NuLCBjb25zdHJ1aXIgVVJMIGNvbXBsZXRhXG4gIGNvbnN0IG1lZGlhVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUVESUFfVVJMIHx8ICdodHRwczovLy9lbmdpbmUucGFuYW1hZ29sZGVua2V5LmNvbSc7XG4gIGNvbnN0IGZ1bGxVcmwgPSBpbWFnZVVybC5zdGFydHNXaXRoKCcvJykgPyBgJHttZWRpYVVybH0ke2ltYWdlVXJsfWAgOiBgJHttZWRpYVVybH0vJHtpbWFnZVVybH1gO1xuICBjb25zb2xlLmxvZyhcIvCflrzvuI8gbm9ybWFsaXplSW1hZ2VVcmw6IHByb2R1Y3Rpb24gZnVsbCBVUkw6XCIsIGZ1bGxVcmwpO1xuICByZXR1cm4gZnVsbFVybDtcbn07XG5cbi8vIEZ1bmNpw7NuIHBhcmEgbm9ybWFsaXphciBvYmpldG9zIGRlIG1lZGlhXG5jb25zdCBub3JtYWxpemVNZWRpYSA9IChtZWRpYUl0ZW06IGFueSk6IFByb3BlcnR5TWVkaWEgPT4ge1xuICByZXR1cm4ge1xuICAgIGlkOiBtZWRpYUl0ZW0uaWQ/LnRvU3RyaW5nKCkgfHwgJzEnLFxuICAgIHByb3BlcnR5OiBtZWRpYUl0ZW0ucHJvcGVydHk/LnRvU3RyaW5nKCkgfHwgJzEnLFxuICAgIGltYWdlX2NvdmVyOiBub3JtYWxpemVJbWFnZVVybChtZWRpYUl0ZW0uaW1hZ2VfY292ZXIgfHwgbWVkaWFJdGVtLnVybCB8fCBtZWRpYUl0ZW0uaW1hZ2UgfHwgJycpIHx8ICcnLFxuICAgIGdhbGxlcnk6IEFycmF5LmlzQXJyYXkobWVkaWFJdGVtLmdhbGxlcnkpID8gbWVkaWFJdGVtLmdhbGxlcnkubWFwKChpbWc6IHN0cmluZykgPT4gbm9ybWFsaXplSW1hZ2VVcmwoaW1nKSB8fCAnJykgOiBbXSxcbiAgICB2aWRlb190b3VyX3VybDogbWVkaWFJdGVtLnZpZGVvX3RvdXJfdXJsIHx8IG51bGwsXG4gICAgdmlydHVhbF90b3VyX3VybDogbWVkaWFJdGVtLnZpcnR1YWxfdG91cl91cmwgfHwgbnVsbCxcbiAgICBmbG9vcl9wbGFuX3BkZjogbWVkaWFJdGVtLmZsb29yX3BsYW5fcGRmIHx8IG51bGwsXG4gICAgYnJvY2h1cmVfcGRmOiBtZWRpYUl0ZW0uYnJvY2h1cmVfcGRmIHx8IG51bGwsXG4gICAgZHJvbmVfc2hvdHM6IEFycmF5LmlzQXJyYXkobWVkaWFJdGVtLmRyb25lX3Nob3RzKSA/IG1lZGlhSXRlbS5kcm9uZV9zaG90cy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpIHx8ICcnKSA6IFtdLFxuICAgIG5pZ2h0X3Bob3RvczogQXJyYXkuaXNBcnJheShtZWRpYUl0ZW0ubmlnaHRfcGhvdG9zKSA/IG1lZGlhSXRlbS5uaWdodF9waG90b3MubWFwKChpbWc6IHN0cmluZykgPT4gbm9ybWFsaXplSW1hZ2VVcmwoaW1nKSB8fCAnJykgOiBbXSxcbiAgICBpbnRlcmlvcl9waG90b3M6IEFycmF5LmlzQXJyYXkobWVkaWFJdGVtLmludGVyaW9yX3Bob3RvcykgPyBtZWRpYUl0ZW0uaW50ZXJpb3JfcGhvdG9zLm1hcCgoaW1nOiBzdHJpbmcpID0+IG5vcm1hbGl6ZUltYWdlVXJsKGltZykgfHwgJycpIDogW10sXG4gICAgZXh0ZXJpb3JfcGhvdG9zOiBBcnJheS5pc0FycmF5KG1lZGlhSXRlbS5leHRlcmlvcl9waG90b3MpID8gbWVkaWFJdGVtLmV4dGVyaW9yX3Bob3Rvcy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpIHx8ICcnKSA6IFtdLFxuICAgIG5laWdoYm9yaG9vZF92aWRlbzogbWVkaWFJdGVtLm5laWdoYm9yaG9vZF92aWRlbyB8fCBudWxsLFxuICAgIGRyb25lX3ZpZGVvOiBtZWRpYUl0ZW0uZHJvbmVfdmlkZW8gfHwgbnVsbCxcbiAgICB0b3RhbF9pbWFnZXM6IG1lZGlhSXRlbS50b3RhbF9pbWFnZXMgfHwgMCxcbiAgICB0b3RhbF92aWRlb3M6IG1lZGlhSXRlbS50b3RhbF92aWRlb3MgfHwgMCxcbiAgICBoYXNfdmlydHVhbF90b3VyOiBtZWRpYUl0ZW0uaGFzX3ZpcnR1YWxfdG91ciB8fCBmYWxzZSxcbiAgICBoYXNfZmxvb3JfcGxhbjogbWVkaWFJdGVtLmhhc19mbG9vcl9wbGFuIHx8IGZhbHNlLFxuICAgIG1lZGlhX3F1YWxpdHlfc2NvcmU6IG1lZGlhSXRlbS5tZWRpYV9xdWFsaXR5X3Njb3JlIHx8IG51bGwsXG4gICAgbGFzdF9tZWRpYV91cGRhdGU6IG1lZGlhSXRlbS5sYXN0X21lZGlhX3VwZGF0ZSB8fCBudWxsLFxuICAgIGNyZWF0ZWRfYXQ6IG1lZGlhSXRlbS5jcmVhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1cGRhdGVkX2F0OiBtZWRpYUl0ZW0udXBkYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgLy8gUHJvcGllZGFkZXMgY2FsY3VsYWRhc1xuICAgIGFsbF9pbWFnZXM6IEFycmF5LmlzQXJyYXkobWVkaWFJdGVtLmdhbGxlcnkpID8gbWVkaWFJdGVtLmdhbGxlcnkubWFwKChpbWc6IHN0cmluZykgPT4gKHtcbiAgICAgIHVybDogbm9ybWFsaXplSW1hZ2VVcmwoaW1nKSB8fCAnJyxcbiAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICBkZXNjcmlwdGlvbjogbWVkaWFJdGVtLmNhcHRpb24gfHwgbWVkaWFJdGVtLnRpdGxlIHx8ICcnXG4gICAgfSkpIDogW10sXG4gICAgYWxsX3ZpZGVvczogW10sXG4gICAgaGFzX3JpY2hfbWVkaWE6ICEhKG1lZGlhSXRlbS52aWRlb190b3VyX3VybCB8fCBtZWRpYUl0ZW0udmlydHVhbF90b3VyX3VybCksXG4gICAgbWVkaWFfY29tcGxldGVuZXNzX3Njb3JlOiBtZWRpYUl0ZW0ubWVkaWFfY29tcGxldGVuZXNzX3Njb3JlIHx8IDAsXG4gICAgaXNfbWVkaWFfY29tcGxldGU6IG1lZGlhSXRlbS5pc19tZWRpYV9jb21wbGV0ZSB8fCBmYWxzZSxcbiAgfTtcbn07XG5cbi8vIERldGVybWluYXIgc2kgZXN0YW1vcyBlbiBkZXNhcnJvbGxvIG8gcHJvZHVjY2nDs25cbmNvbnN0IGdldEFwaUJhc2VVcmwgPSAoKSA9PiB7XG4gIC8vIEVuIGRlc2Fycm9sbG8sIHNpZW1wcmUgdXNhciBwcm94eVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICBjb25zb2xlLmxvZygnZ2V0QXBpQmFzZVVybCAtIFVzaW5nIHByb3h5IGZvciBkZXZlbG9wbWVudCcpO1xuICAgIHJldHVybiBcIi9hcGkvcHJveHkvcHJvcGVydGllc1wiO1xuICB9XG4gIFxuICAvLyBFbiBwcm9kdWNjacOzbiwgdXNhciBBUEkgZGlyZWN0YVxuICBjb25zb2xlLmxvZygnZ2V0QXBpQmFzZVVybCAtIFVzaW5nIGRpcmVjdCBBUEkgZm9yIHByb2R1Y3Rpb24nKTtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BBTkFNQV9BUElfVVJMIHx8IFwiaHR0cHM6Ly8vZW5naW5lLnBhbmFtYWdvbGRlbmtleS5jb20vYXBpXCI7XG59O1xuXG5jb25zdCBBUElfQkFTRV9VUkwgPSBnZXRBcGlCYXNlVXJsKCk7XG5cbmNsYXNzIFByb3BlcnRpZXNBUEkge1xuICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihiYXNlVXJsOiBzdHJpbmcgPSBBUElfQkFTRV9VUkwpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0PFQ+KFxuICAgIGVuZHBvaW50OiBzdHJpbmcsXG4gICAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuICApOiBQcm9taXNlPFQ+IHtcbiAgICAvLyBDb25zdHJ1aXIgbGEgVVJMIGNvcnJlY3RhbWVudGUgcGFyYSBlbCBwcm94eSB5IGxhIEFQSSBkaXJlY3RhXG4gICAgbGV0IHVybDogc3RyaW5nO1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIFxuICAgIC8vIERlYnVnIGxvZ3NcbiAgICBjb25zb2xlLmxvZygncmVxdWVzdCBtZXRob2QgY2FsbGVkOicpO1xuICAgIGNvbnNvbGUubG9nKCctIEJhc2UgVVJMOicsIHRoaXMuYmFzZVVybCk7XG4gICAgY29uc29sZS5sb2coJy0gRW5kcG9pbnQ6JywgZW5kcG9pbnQpO1xuICAgIGNvbnNvbGUubG9nKCctIElzIHVzaW5nIHByb3h5OicsIGlzVXNpbmdQcm94eSk7XG4gICAgY29uc29sZS5sb2coJy0gV2luZG93IGhvc3RuYW1lOicsIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIDogJ3NlcnZlci1zaWRlJyk7XG4gICAgXG4gICAgaWYgKGlzVXNpbmdQcm94eSkge1xuICAgICAgLy8gRW4gZGVzYXJyb2xsbywgZWwgZW5kcG9pbnQgeWEgaW5jbHV5ZSBsYSBydXRhIGNvbXBsZXRhXG4gICAgICBpZiAoZW5kcG9pbnQgPT09ICcvJykge1xuICAgICAgICB1cmwgPSB0aGlzLmJhc2VVcmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQYXJhIGVsIHByb3h5LCBubyBhw7FhZGlyIC9wcm9wZXJ0aWVzLyB5YSBxdWUgZXN0w6EgZW4gbGEgYmFzZVVybFxuICAgICAgICBjb25zdCBjbGVhbkVuZHBvaW50ID0gZW5kcG9pbnQucmVwbGFjZSgnL3Byb3BlcnRpZXMvJywgJycpO1xuICAgICAgICB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9JHtjbGVhbkVuZHBvaW50LnN0YXJ0c1dpdGgoJy8nKSA/IGNsZWFuRW5kcG9pbnQgOiAnLycgKyBjbGVhbkVuZHBvaW50fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVuIHByb2R1Y2Npw7NuLCB1c2FyIGxhIEFQSSBkaXJlY3RhIC0gQ09SUkVDQ0nDk046IG5vIGR1cGxpY2FyIC9wcm9wZXJ0aWVzL1xuICAgICAgLy8gTGEgYmFzZVVybCB5YSB0ZXJtaW5hIGVuIC9hcGksIGFzw60gcXVlIHNvbG8gaGF5IHF1ZSBhw7FhZGlyIGVsIGVuZHBvaW50XG4gICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3Byb3BlcnRpZXMvJykpIHtcbiAgICAgICAgLy8gU2kgZWwgZW5kcG9pbnQgeWEgaW5jbHV5ZSAvcHJvcGVydGllcy8sIHNvbG8gYcOxYWRpcmxvIGEgbGEgYmFzZVVybFxuICAgICAgICB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9JHtlbmRwb2ludH1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2kgZWwgZW5kcG9pbnQgbm8gaW5jbHV5ZSAvcHJvcGVydGllcy8sIGHDsWFkaXJsb1xuICAgICAgICB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9L3Byb3BlcnRpZXMke2VuZHBvaW50fWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJy0gRmluYWwgVVJMOicsIHVybCk7XG5cbiAgICBjb25zdCBkZWZhdWx0SGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG5cbiAgICBjb25zdCBjb25maWc6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgTWFraW5nICR7Y29uZmlnLm1ldGhvZCB8fCAnR0VUJ30gcmVxdWVzdCB0bzpgLCB1cmwpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIGNvbmZpZyk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgLy8gSW50ZW50YXIgb2J0ZW5lciBlbCBlcnJvciBjb21vIEpTT04gcHJpbWVyb1xuICAgICAgICBsZXQgZXJyb3JEYXRhOiBhbnkgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgaWYgKGVycm9yVGV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZXJyb3JEYXRhID0gSlNPTi5wYXJzZShlcnJvclRleHQpO1xuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgIC8vIFNpIG5vIGVzIEpTT04sIHVzYXIgZWwgdGV4dG8gY29tbyBtZW5zYWplXG4gICAgICAgICAgICAgIGVycm9yRGF0YSA9IHsgZXJyb3I6IGVycm9yVGV4dCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgLy8gU2kgbm8gc2UgcHVlZGUgbGVlciBlbCBjdWVycG8sIHVzYXIgc29sbyBlbCBzdGF0dXNcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKGVycm9yRGF0YSBhcyBhbnkpLmVycm9yIHx8XG4gICAgICAgICAgKGVycm9yRGF0YSBhcyBhbnkpLm1lc3NhZ2UgfHxcbiAgICAgICAgICAoZXJyb3JEYXRhIGFzIGFueSkuZGV0YWlsIHx8XG4gICAgICAgICAgYEVycm9yICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICAvLyBOb3JtYWxpemFyIFVSTHMgZGUgaW3DoWdlbmVzIGVuIGxhIHJlc3B1ZXN0YVxuICAgICAgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIFNpIGVzIHVuYSByZXNwdWVzdGEgZGUgcHJvcGllZGFkZXNcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0cyAmJiBBcnJheS5pc0FycmF5KGRhdGEucmVzdWx0cykpIHtcbiAgICAgICAgICBkYXRhLnJlc3VsdHMgPSBkYXRhLnJlc3VsdHMubWFwKChwcm9wZXJ0eTogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgICAgICAgICBpbWFnZV91cmw6IG5vcm1hbGl6ZUltYWdlVXJsKHByb3BlcnR5LmltYWdlX3VybCksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBUYW1iacOpbiBub3JtYWxpemFyIFVSTHMgZW4gbWVkaWEgc2kgZXhpc3RlXG4gICAgICAgICAgICBpZiAocHJvcGVydHkubWVkaWEgJiYgdHlwZW9mIHByb3BlcnR5Lm1lZGlhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcGVydHkubWVkaWEgPSB7XG4gICAgICAgICAgICAgICAgLi4ucHJvcGVydHkubWVkaWEsXG4gICAgICAgICAgICAgICAgLy8gTm9ybWFsaXphciBpbWFnZV9jb3ZlciBzaSBleGlzdGVcbiAgICAgICAgICAgICAgICBpbWFnZV9jb3Zlcjogbm9ybWFsaXplSW1hZ2VVcmwocHJvcGVydHkubWVkaWEuaW1hZ2VfY292ZXIpLFxuICAgICAgICAgICAgICAgIC8vIE5vcm1hbGl6YXIgYXJyYXlzIGRlIGltw6FnZW5lcyBzaSBleGlzdGVuIHkgc29uIGFycmF5c1xuICAgICAgICAgICAgICAgIGdhbGxlcnk6IEFycmF5LmlzQXJyYXkocHJvcGVydHkubWVkaWEuZ2FsbGVyeSkgP1xuICAgICAgICAgICAgICAgICAgcHJvcGVydHkubWVkaWEuZ2FsbGVyeS5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgICAgIGRyb25lX3Nob3RzOiBBcnJheS5pc0FycmF5KHByb3BlcnR5Lm1lZGlhLmRyb25lX3Nob3RzKSA/XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5tZWRpYS5kcm9uZV9zaG90cy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgICAgIG5pZ2h0X3Bob3RvczogQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5tZWRpYS5uaWdodF9waG90b3MpID9cbiAgICAgICAgICAgICAgICAgIHByb3BlcnR5Lm1lZGlhLm5pZ2h0X3Bob3Rvcy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgICAgIGludGVyaW9yX3Bob3RvczogQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5tZWRpYS5pbnRlcmlvcl9waG90b3MpID9cbiAgICAgICAgICAgICAgICAgIHByb3BlcnR5Lm1lZGlhLmludGVyaW9yX3Bob3Rvcy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgICAgIGV4dGVyaW9yX3Bob3RvczogQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5tZWRpYS5leHRlcmlvcl9waG90b3MpID9cbiAgICAgICAgICAgICAgICAgIHByb3BlcnR5Lm1lZGlhLmV4dGVyaW9yX3Bob3Rvcy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgICAgIC8vIE5vcm1hbGl6YXIgVVJMcyBpbmRpdmlkdWFsZXMgc2kgZXhpc3RlblxuICAgICAgICAgICAgICAgIHZpZGVvX3RvdXJfdXJsOiBwcm9wZXJ0eS5tZWRpYS52aWRlb190b3VyX3VybCxcbiAgICAgICAgICAgICAgICB2aXJ0dWFsX3RvdXJfdXJsOiBwcm9wZXJ0eS5tZWRpYS52aXJ0dWFsX3RvdXJfdXJsLFxuICAgICAgICAgICAgICAgIGZsb29yX3BsYW5fcGRmOiBwcm9wZXJ0eS5tZWRpYS5mbG9vcl9wbGFuX3BkZixcbiAgICAgICAgICAgICAgICBicm9jaHVyZV9wZGY6IHByb3BlcnR5Lm1lZGlhLmJyb2NodXJlX3BkZixcbiAgICAgICAgICAgICAgICBuZWlnaGJvcmhvb2RfdmlkZW86IHByb3BlcnR5Lm1lZGlhLm5laWdoYm9yaG9vZF92aWRlbyxcbiAgICAgICAgICAgICAgICBkcm9uZV92aWRlbzogcHJvcGVydHkubWVkaWEuZHJvbmVfdmlkZW8sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVkUHJvcGVydHk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNpIGVzIHVuYSBwcm9waWVkYWQgaW5kaXZpZHVhbFxuICAgICAgICBpZiAoZGF0YS5pbWFnZV91cmwpIHtcbiAgICAgICAgICBkYXRhLmltYWdlX3VybCA9IG5vcm1hbGl6ZUltYWdlVXJsKGRhdGEuaW1hZ2VfdXJsKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTm9ybWFsaXphciBVUkxzIGVuIG1lZGlhIHNpIGV4aXN0ZVxuICAgICAgICBpZiAoZGF0YS5tZWRpYSAmJiB0eXBlb2YgZGF0YS5tZWRpYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBkYXRhLm1lZGlhID0ge1xuICAgICAgICAgICAgLi4uZGF0YS5tZWRpYSxcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6YXIgaW1hZ2VfY292ZXIgc2kgZXhpc3RlXG4gICAgICAgICAgICBpbWFnZV9jb3Zlcjogbm9ybWFsaXplSW1hZ2VVcmwoZGF0YS5tZWRpYS5pbWFnZV9jb3ZlciksXG4gICAgICAgICAgICAvLyBOb3JtYWxpemFyIGFycmF5cyBkZSBpbcOhZ2VuZXMgc2kgZXhpc3RlbiB5IHNvbiBhcnJheXNcbiAgICAgICAgICAgIGdhbGxlcnk6IEFycmF5LmlzQXJyYXkoZGF0YS5tZWRpYS5nYWxsZXJ5KSA/XG4gICAgICAgICAgICAgIGRhdGEubWVkaWEuZ2FsbGVyeS5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgZHJvbmVfc2hvdHM6IEFycmF5LmlzQXJyYXkoZGF0YS5tZWRpYS5kcm9uZV9zaG90cykgP1xuICAgICAgICAgICAgICBkYXRhLm1lZGlhLmRyb25lX3Nob3RzLm1hcCgoaW1nOiBzdHJpbmcpID0+IG5vcm1hbGl6ZUltYWdlVXJsKGltZykpIDogW10sXG4gICAgICAgICAgICBuaWdodF9waG90b3M6IEFycmF5LmlzQXJyYXkoZGF0YS5tZWRpYS5uaWdodF9waG90b3MpID9cbiAgICAgICAgICAgICAgZGF0YS5tZWRpYS5uaWdodF9waG90b3MubWFwKChpbWc6IHN0cmluZykgPT4gbm9ybWFsaXplSW1hZ2VVcmwoaW1nKSkgOiBbXSxcbiAgICAgICAgICAgIGludGVyaW9yX3Bob3RvczogQXJyYXkuaXNBcnJheShkYXRhLm1lZGlhLmludGVyaW9yX3Bob3RvcykgP1xuICAgICAgICAgICAgICBkYXRhLm1lZGlhLmludGVyaW9yX3Bob3Rvcy5tYXAoKGltZzogc3RyaW5nKSA9PiBub3JtYWxpemVJbWFnZVVybChpbWcpKSA6IFtdLFxuICAgICAgICAgICAgZXh0ZXJpb3JfcGhvdG9zOiBBcnJheS5pc0FycmF5KGRhdGEubWVkaWEuZXh0ZXJpb3JfcGhvdG9zKSA/XG4gICAgICAgICAgICAgIGRhdGEubWVkaWEuZXh0ZXJpb3JfcGhvdG9zLm1hcCgoaW1nOiBzdHJpbmcpID0+IG5vcm1hbGl6ZUltYWdlVXJsKGltZykpIDogW10sXG4gICAgICAgICAgICAvLyBOb3JtYWxpemFyIFVSTHMgaW5kaXZpZHVhbGVzIHNpIGV4aXN0ZW5cbiAgICAgICAgICAgIHZpZGVvX3RvdXJfdXJsOiBkYXRhLm1lZGlhLnZpZGVvX3RvdXJfdXJsLFxuICAgICAgICAgICAgdmlydHVhbF90b3VyX3VybDogZGF0YS5tZWRpYS52aXJ0dWFsX3RvdXJfdXJsLFxuICAgICAgICAgICAgZmxvb3JfcGxhbl9wZGY6IGRhdGEubWVkaWEuZmxvb3JfcGxhbl9wZGYsXG4gICAgICAgICAgICBicm9jaHVyZV9wZGY6IGRhdGEubWVkaWEuYnJvY2h1cmVfcGRmLFxuICAgICAgICAgICAgbmVpZ2hib3Job29kX3ZpZGVvOiBkYXRhLm1lZGlhLm5laWdoYm9yaG9vZF92aWRlbyxcbiAgICAgICAgICAgIGRyb25lX3ZpZGVvOiBkYXRhLm1lZGlhLmRyb25lX3ZpZGVvLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV0d29yayBlcnJvciBvY2N1cnJlZFwiKTtcbiAgICB9XG4gIH1cblxuICAvLyBPYnRlbmVyIHRvZGFzIGxhcyBwcm9waWVkYWRlcyBjb24gcGFnaW5hY2nDs24geSBmaWx0cm9zXG4gIGFzeW5jIGdldFByb3BlcnRpZXModXJsPzogc3RyaW5nKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB1cmwgfHwgKGlzVXNpbmdQcm94eSA/IFwiXCIgOiBcIi9cIik7XG4gICAgY29uc29sZS5sb2coYERFQlVHIGdldFByb3BlcnRpZXM6IHVybD0ke3VybH0sIGlzVXNpbmdQcm94eT0ke2lzVXNpbmdQcm94eX0sIGVuZHBvaW50PSR7ZW5kcG9pbnR9YCk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIHVuYSBwcm9waWVkYWQgZXNwZWPDrWZpY2FcbiAgYXN5bmMgZ2V0UHJvcGVydHkoaWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHk+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICAvLyBTaSB1c2Ftb3MgcHJveHksIGVsIGVuZHBvaW50IGVzIHNvbG8gZWwgSUQgc2luIGVsIHByZWZpam8gXCJwcm9wZXJ0aWVzXCJcbiAgICAvLyBDT1JSRUNDScOTTjogRWxpbWluYXIgbGEgYmFycmEgZmluYWwgcGFyYSBldml0YXIgNDA0c1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke2lkfWAgOiBgL3Byb3BlcnRpZXMvJHtpZH0vYDtcbiAgICBjb25zb2xlLmxvZyhgREVCVUcgZ2V0UHJvcGVydHk6IGlkPSR7aWR9LCBpc1VzaW5nUHJveHk9JHtpc1VzaW5nUHJveHl9LCBlbmRwb2ludD0ke2VuZHBvaW50fWApO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHk+KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8vIE9idGVuZXIgcHJvcGllZGFkZXMgZGVzdGFjYWRhc1xuICBhc3luYyBnZXRGZWF0dXJlZFByb3BlcnRpZXMoKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBcIi9mZWF0dXJlZC9cIiA6IFwiL3Byb3BlcnRpZXMvZmVhdHVyZWQvXCI7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBCdXNjYXIgcHJvcGllZGFkZXNcbiAgYXN5bmMgc2VhcmNoUHJvcGVydGllcyhmaWx0ZXJzOiBQcm9wZXJ0eUZpbHRlcnMpOiBQcm9taXNlPFByb3BlcnR5UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG5cbiAgICBPYmplY3QuZW50cmllcyhmaWx0ZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoa2V5LCB2LnRvU3RyaW5nKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHlcbiAgICAgID8gYC9zZWFyY2gvJHtxdWVyeVN0cmluZyA/IGA/JHtxdWVyeVN0cmluZ31gIDogXCJcIn1gXG4gICAgICA6IGAvcHJvcGVydGllcy9zZWFyY2gvJHtxdWVyeVN0cmluZyA/IGA/JHtxdWVyeVN0cmluZ31gIDogXCJcIn1gO1xuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIHByb3BpZWRhZGVzIHNpbWlsYXJlc1xuICBhc3luYyBnZXRTaW1pbGFyUHJvcGVydGllcyhpZDogc3RyaW5nKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgLyR7aWR9L3NpbWlsYXIvYCA6IGAvcHJvcGVydGllcy8ke2lkfS9zaW1pbGFyL2A7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIG9wb3J0dW5pZGFkZXMgZGUgaW52ZXJzacOzblxuICBhc3luYyBnZXRJbnZlc3RtZW50T3Bwb3J0dW5pdGllcygpOiBQcm9taXNlPFByb3BlcnR5UmVzcG9uc2U+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IFwiL2ludmVzdG1lbnQtb3Bwb3J0dW5pdGllcy9cIiA6IFwiL3Byb3BlcnRpZXMvaW52ZXN0bWVudC1vcHBvcnR1bml0aWVzL1wiO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBkYXRvcyBwYXJhIG1hcGFcbiAgYXN5bmMgZ2V0TWFwRGF0YSgpOiBQcm9taXNlPFByb3BlcnR5UmVzcG9uc2U+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IFwiL21hcC1kYXRhL1wiIDogXCIvcHJvcGVydGllcy9tYXAtZGF0YS9cIjtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb3BlcnR5UmVzcG9uc2U+KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8vIE9idGVuZXIgZXN0YWTDrXN0aWNhcyBkZSBwcm9waWVkYWRlc1xuICBhc3luYyBnZXRTdGF0cygpOiBQcm9taXNlPFByb3BlcnR5U3RhdHM+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IFwiL3N0YXRzL1wiIDogXCIvcHJvcGVydGllcy9zdGF0cy9cIjtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb3BlcnR5U3RhdHM+KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8vIFJlZ2lzdHJhciB2aXN1YWxpemFjacOzbiBkZSBwcm9waWVkYWRcbiAgYXN5bmMgdHJhY2tWaWV3KHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke3Byb3BlcnR5SWR9L3RyYWNrLXZpZXcvYCA6IGAvcHJvcGVydGllcy8ke3Byb3BlcnR5SWR9L3RyYWNrLXZpZXcvYDtcbiAgICBhd2FpdCB0aGlzLnJlcXVlc3Q8dm9pZD4oZW5kcG9pbnQsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gIH1cblxuICAvLyBBZ3JlZ2FyIHByb3BpZWRhZCBhIGZhdm9yaXRvc1xuICBhc3luYyBhZGRGYXZvcml0ZShwcm9wZXJ0eUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvJHtwcm9wZXJ0eUlkfS9hZGQtZmF2b3JpdGUvYCA6IGAvcHJvcGVydGllcy8ke3Byb3BlcnR5SWR9L2FkZC1mYXZvcml0ZS9gO1xuICAgIGF3YWl0IHRoaXMucmVxdWVzdDx2b2lkPihlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENvbnRhY3RhciBhZ2VudGVcbiAgYXN5bmMgY29udGFjdEFnZW50KFxuICAgIHByb3BlcnR5SWQ6IHN0cmluZyxcbiAgICBmb3JtRGF0YTogQ29udGFjdEFnZW50Rm9ybVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvJHtwcm9wZXJ0eUlkfS9jb250YWN0LWFnZW50L2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9jb250YWN0LWFnZW50L2A7XG4gICAgYXdhaXQgdGhpcy5yZXF1ZXN0PHZvaWQ+KGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gUHJvZ3JhbWFyIHRvdXJcbiAgYXN5bmMgc2NoZWR1bGVUb3VyKFxuICAgIHByb3BlcnR5SWQ6IHN0cmluZyxcbiAgICBmb3JtRGF0YTogU2NoZWR1bGVUb3VyRm9ybVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvJHtwcm9wZXJ0eUlkfS9zY2hlZHVsZS10b3VyL2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9zY2hlZHVsZS10b3VyL2A7XG4gICAgYXdhaXQgdGhpcy5yZXF1ZXN0PHZvaWQ+KGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2VuZXJhciByZXBvcnRlIGRlIHByb3BpZWRhZFxuICBhc3luYyBnZW5lcmF0ZVJlcG9ydChwcm9wZXJ0eUlkOiBzdHJpbmcpOiBQcm9taXNlPFByb3BlcnR5UmVwb3J0UmVzcG9uc2U+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvJHtwcm9wZXJ0eUlkfS9nZW5lcmF0ZS1yZXBvcnQvYCA6IGAvcHJvcGVydGllcy8ke3Byb3BlcnR5SWR9L2dlbmVyYXRlLXJlcG9ydC9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlSZXBvcnRSZXNwb25zZT4oZW5kcG9pbnQsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gIH1cblxuICAvLyBPYnRlbmVyIHJlcG9ydGUgZGUgcHJvcGllZGFkXG4gIGFzeW5jIGdldFJlcG9ydChwcm9wZXJ0eUlkOiBzdHJpbmcpOiBQcm9taXNlPFByb3BlcnR5UmVwb3J0PiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgLyR7cHJvcGVydHlJZH0vcmVwb3J0L2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9yZXBvcnQvYDtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb3BlcnR5UmVwb3J0PihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIHByb3BpZWRhZGVzIHBvciBib3VuZHMgZGVsIG1hcGFcbiAgYXN5bmMgZ2V0UHJvcGVydGllc0J5Qm91bmRzKGJvdW5kczogTWFwQm91bmRzKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICBuZV9sYXQ6IGJvdW5kcy5ub3J0aEVhc3QubGF0LnRvU3RyaW5nKCksXG4gICAgICBuZV9sbmc6IGJvdW5kcy5ub3J0aEVhc3QubG5nLnRvU3RyaW5nKCksXG4gICAgICBzd19sYXQ6IGJvdW5kcy5zb3V0aFdlc3QubGF0LnRvU3RyaW5nKCksXG4gICAgICBzd19sbmc6IGJvdW5kcy5zb3V0aFdlc3QubG5nLnRvU3RyaW5nKCksXG4gICAgfSk7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgL2J5LWJvdW5kcy8/JHtwYXJhbXN9YCA6IGAvcHJvcGVydGllcy9ieS1ib3VuZHMvPyR7cGFyYW1zfWA7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIHByb3BpZWRhZGVzIHBvciBhZ2VudGVcbiAgYXN5bmMgZ2V0UHJvcGVydGllc0J5QWdlbnQoYWdlbnRJZDogc3RyaW5nKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgL2J5LWFnZW50LyR7YWdlbnRJZH0vYCA6IGAvcHJvcGVydGllcy9ieS1hZ2VudC8ke2FnZW50SWR9L2A7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIHByb3BpZWRhZGVzIHBvciB0aXBvXG4gIGFzeW5jIGdldFByb3BlcnRpZXNCeVR5cGUocHJvcGVydHlUeXBlOiBzdHJpbmcpOiBQcm9taXNlPFByb3BlcnR5UmVzcG9uc2U+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvYnktdHlwZS8ke3Byb3BlcnR5VHlwZX0vYCA6IGAvcHJvcGVydGllcy9ieS10eXBlLyR7cHJvcGVydHlUeXBlfS9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBwcm9waWVkYWRlcyBwb3IgdWJpY2FjacOzblxuICBhc3luYyBnZXRQcm9wZXJ0aWVzQnlMb2NhdGlvbihsb2NhdGlvbjogc3RyaW5nKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgL2J5LWxvY2F0aW9uLyR7bG9jYXRpb259L2AgOiBgL3Byb3BlcnRpZXMvYnktbG9jYXRpb24vJHtsb2NhdGlvbn0vYDtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb3BlcnR5UmVzcG9uc2U+KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8vIE9idGVuZXIgcHJvcGllZGFkZXMgcG9yIHJhbmdvIGRlIHByZWNpb3NcbiAgYXN5bmMgZ2V0UHJvcGVydGllc0J5UHJpY2VSYW5nZShcbiAgICBtaW5QcmljZTogbnVtYmVyLFxuICAgIG1heFByaWNlOiBudW1iZXJcbiAgKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICBtaW5fcHJpY2U6IG1pblByaWNlLnRvU3RyaW5nKCksXG4gICAgICBtYXhfcHJpY2U6IG1heFByaWNlLnRvU3RyaW5nKCksXG4gICAgfSk7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgL2J5LXByaWNlLXJhbmdlLz8ke3BhcmFtc31gIDogYC9wcm9wZXJ0aWVzL2J5LXByaWNlLXJhbmdlLz8ke3BhcmFtc31gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBwcm9waWVkYWRlcyBjb24gZGVzY3VlbnRvXG4gIGFzeW5jIGdldFByb3BlcnRpZXNXaXRoRGlzY291bnQoKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBcIi93aXRoLWRpc2NvdW50L1wiIDogXCIvcHJvcGVydGllcy93aXRoLWRpc2NvdW50L1wiO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBwcm9waWVkYWRlcyBudWV2YXNcbiAgYXN5bmMgZ2V0TmV3UHJvcGVydGllcygpOiBQcm9taXNlPFByb3BlcnR5UmVzcG9uc2U+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IFwiL25ldy9cIiA6IFwiL3Byb3BlcnRpZXMvbmV3L1wiO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBwcm9waWVkYWRlcyBlbiB2ZW50YVxuICBhc3luYyBnZXRQcm9wZXJ0aWVzRm9yU2FsZSgpOiBQcm9taXNlPFByb3BlcnR5UmVzcG9uc2U+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IFwiL2Zvci1zYWxlL1wiIDogXCIvcHJvcGVydGllcy9mb3Itc2FsZS9cIjtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb3BlcnR5UmVzcG9uc2U+KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8vIE9idGVuZXIgcHJvcGllZGFkZXMgZW4gYWxxdWlsZXJcbiAgYXN5bmMgZ2V0UHJvcGVydGllc0ZvclJlbnQoKTogUHJvbWlzZTxQcm9wZXJ0eVJlc3BvbnNlPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBcIi9mb3ItcmVudC9cIiA6IFwiL3Byb3BlcnRpZXMvZm9yLXJlbnQvXCI7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eVJlc3BvbnNlPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBNw6l0b2RvcyBwYXJhIG9idGVuZXIgZGF0b3MgZXNwZWPDrWZpY29zIGRlIGxhIGFycXVpdGVjdHVyYSBhbmdlbGljYWxcblxuICAvLyBPYnRlbmVyIGRhdG9zIGZpbmFuY2llcm9zIGRlIHVuYSBwcm9waWVkYWRcbiAgYXN5bmMgZ2V0UHJvcGVydHlGaW5hbmNpYWxzKHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHlGaW5hbmNpYWxzPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgLyR7cHJvcGVydHlJZH0vZmluYW5jaWFscy9gIDogYC9wcm9wZXJ0aWVzLyR7cHJvcGVydHlJZH0vZmluYW5jaWFscy9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlGaW5hbmNpYWxzPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIGRhdG9zIGRlIHViaWNhY2nDs24gZGUgdW5hIHByb3BpZWRhZFxuICBhc3luYyBnZXRQcm9wZXJ0eUxvY2F0aW9uKHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHlMb2NhdGlvbj4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke3Byb3BlcnR5SWR9L2xvY2F0aW9uL2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9sb2NhdGlvbi9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlMb2NhdGlvbj4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBtZWRpb3MgZGUgdW5hIHByb3BpZWRhZFxuICBhc3luYyBnZXRQcm9wZXJ0eU1lZGlhKHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHlNZWRpYVtdPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgLyR7cHJvcGVydHlJZH0vbWVkaWEvYCA6IGAvcHJvcGVydGllcy8ke3Byb3BlcnR5SWR9L21lZGlhL2A7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eU1lZGlhW10+KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8vIE9idGVuZXIgaW5mb3JtYWNpw7NuIGRlbCBhZ2VudGUgZGUgdW5hIHByb3BpZWRhZFxuICBhc3luYyBnZXRQcm9wZXJ0eUFnZW50KHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHlBZ2VudD4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke3Byb3BlcnR5SWR9L2FnZW50L2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9hZ2VudC9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlBZ2VudD4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBpbmZvcm1hY2nDs24gbGVnYWwgZGUgdW5hIHByb3BpZWRhZFxuICBhc3luYyBnZXRQcm9wZXJ0eUxlZ2FsKHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHlMZWdhbD4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke3Byb3BlcnR5SWR9L2xlZ2FsL2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9sZWdhbC9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlMZWdhbD4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBhbsOhbGlzaXMgZGUgSUEgZGUgdW5hIHByb3BpZWRhZFxuICBhc3luYyBnZXRQcm9wZXJ0eUFJKHByb3BlcnR5SWQ6IHN0cmluZyk6IFByb21pc2U8UHJvcGVydHlBST4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke3Byb3BlcnR5SWR9L2FpL2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9haS9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlBST4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gT2J0ZW5lciBkYXRvcyBkZSBtYXJrZXRpbmcgZGUgdW5hIHByb3BpZWRhZFxuICBhc3luYyBnZXRQcm9wZXJ0eU1hcmtldGluZyhwcm9wZXJ0eUlkOiBzdHJpbmcpOiBQcm9taXNlPFByb3BlcnR5TWFya2V0aW5nPiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgLyR7cHJvcGVydHlJZH0vbWFya2V0aW5nL2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9tYXJrZXRpbmcvYDtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb3BlcnR5TWFya2V0aW5nPihlbmRwb2ludCk7XG4gIH1cblxuICAvLyBPYnRlbmVyIGFuYWzDrXRpY2FzIGRlIHVuYSBwcm9waWVkYWRcbiAgYXN5bmMgZ2V0UHJvcGVydHlBbmFseXRpY3MocHJvcGVydHlJZDogc3RyaW5nKTogUHJvbWlzZTxQcm9wZXJ0eUFuYWx5dGljcz4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke3Byb3BlcnR5SWR9L2FuYWx5dGljcy9gIDogYC9wcm9wZXJ0aWVzLyR7cHJvcGVydHlJZH0vYW5hbHl0aWNzL2A7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eUFuYWx5dGljcz4oZW5kcG9pbnQpO1xuICB9XG5cbiAgLy8gTcOpdG9kb3MgZGUgYWRtaW5pc3RyYWNpw7NuIChyZXF1aWVyZW4gYXV0ZW50aWNhY2nDs24pXG5cbiAgLy8gQ3JlYXIgcHJvcGllZGFkXG4gIGFzeW5jIGNyZWF0ZVByb3BlcnR5KHByb3BlcnR5RGF0YTogUGFydGlhbDxQcm9wZXJ0eT4pOiBQcm9taXNlPFByb3BlcnR5PiB7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBcIi9cIiA6IFwiL3Byb3BlcnRpZXMvXCI7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9wZXJ0eT4oZW5kcG9pbnQsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9wZXJ0eURhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gQWN0dWFsaXphciBwcm9waWVkYWRcbiAgYXN5bmMgdXBkYXRlUHJvcGVydHkoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwcm9wZXJ0eURhdGE6IFBhcnRpYWw8UHJvcGVydHk+XG4gICk6IFByb21pc2U8UHJvcGVydHk+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvJHtpZH0vYCA6IGAvcHJvcGVydGllcy8ke2lkfS9gO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHk+KGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHByb3BlcnR5RGF0YSksXG4gICAgfSk7XG4gIH1cblxuICAvLyBFbGltaW5hciBwcm9waWVkYWRcbiAgYXN5bmMgZGVsZXRlUHJvcGVydHkoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGlzVXNpbmdQcm94eSA9IHRoaXMuYmFzZVVybC5pbmNsdWRlcygnL2FwaS9wcm94eScpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gaXNVc2luZ1Byb3h5ID8gYC8ke2lkfS9gIDogYC9wcm9wZXJ0aWVzLyR7aWR9L2A7XG4gICAgYXdhaXQgdGhpcy5yZXF1ZXN0PHZvaWQ+KGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cblxuICAvLyBTdWJpciBpbWFnZW4gZGUgcHJvcGllZGFkXG4gIGFzeW5jIHVwbG9hZFByb3BlcnR5SW1hZ2UoXG4gICAgcHJvcGVydHlJZDogc3RyaW5nLFxuICAgIGltYWdlRmlsZTogRmlsZVxuICApOiBQcm9taXNlPFByb3BlcnR5TWVkaWE+IHtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImltYWdlXCIsIGltYWdlRmlsZSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwicHJvcGVydHlcIiwgcHJvcGVydHlJZCk7XG4gICAgY29uc3QgaXNVc2luZ1Byb3h5ID0gdGhpcy5iYXNlVXJsLmluY2x1ZGVzKCcvYXBpL3Byb3h5Jyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBpc1VzaW5nUHJveHkgPyBgLyR7cHJvcGVydHlJZH0vdXBsb2FkLWltYWdlL2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS91cGxvYWQtaW1hZ2UvYDtcblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvcGVydHlNZWRpYT4oZW5kcG9pbnQsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIGhlYWRlcnM6IHt9LCAvLyBObyBDb250ZW50LVR5cGUgcGFyYSBtdWx0aXBhcnQvZm9ybS1kYXRhXG4gICAgfSk7XG4gIH1cblxuICAvLyBFbGltaW5hciBpbWFnZW4gZGUgcHJvcGllZGFkXG4gIGFzeW5jIGRlbGV0ZVByb3BlcnR5SW1hZ2UoXG4gICAgcHJvcGVydHlJZDogc3RyaW5nLFxuICAgIGltYWdlSWQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBpc1VzaW5nUHJveHkgPSB0aGlzLmJhc2VVcmwuaW5jbHVkZXMoJy9hcGkvcHJveHknKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzVXNpbmdQcm94eSA/IGAvJHtwcm9wZXJ0eUlkfS9tZWRpYS8ke2ltYWdlSWR9L2AgOiBgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eUlkfS9tZWRpYS8ke2ltYWdlSWR9L2A7XG4gICAgYXdhaXQgdGhpcy5yZXF1ZXN0PHZvaWQ+KGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gIH1cbn1cblxuLy8gRXhwb3J0YXIgaW5zdGFuY2lhIMO6bmljYSBkZWwgQVBJXG5leHBvcnQgY29uc3QgcHJvcGVydGllc0FwaSA9IG5ldyBQcm9wZXJ0aWVzQVBJKCk7XG5cbi8vIEV4cG9ydGFyIGNsYXNlIHBhcmEgY2Fzb3MgZGUgdXNvIGF2YW56YWRvc1xuZXhwb3J0IHsgUHJvcGVydGllc0FQSSB9O1xuXG4vLyBFeHBvcnRhciBmdW5jaW9uZXMgZGUgY29udmVuaWVuY2lhXG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydGllcyA9ICh1cmw/OiBzdHJpbmcpID0+IHByb3BlcnRpZXNBcGkuZ2V0UHJvcGVydGllcyh1cmwpO1xuZXhwb3J0IGNvbnN0IGdldFByb3BlcnR5ID0gKGlkOiBzdHJpbmcpID0+IHByb3BlcnRpZXNBcGkuZ2V0UHJvcGVydHkoaWQpO1xuZXhwb3J0IGNvbnN0IGdldEZlYXR1cmVkUHJvcGVydGllcyA9ICgpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2V0RmVhdHVyZWRQcm9wZXJ0aWVzKCk7XG5leHBvcnQgY29uc3Qgc2VhcmNoUHJvcGVydGllcyA9IChmaWx0ZXJzOiBQcm9wZXJ0eUZpbHRlcnMpID0+XG4gIHByb3BlcnRpZXNBcGkuc2VhcmNoUHJvcGVydGllcyhmaWx0ZXJzKTtcbmV4cG9ydCBjb25zdCBnZXRTaW1pbGFyUHJvcGVydGllcyA9IChpZDogc3RyaW5nKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmdldFNpbWlsYXJQcm9wZXJ0aWVzKGlkKTtcbmV4cG9ydCBjb25zdCBnZXRJbnZlc3RtZW50T3Bwb3J0dW5pdGllcyA9ICgpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2V0SW52ZXN0bWVudE9wcG9ydHVuaXRpZXMoKTtcbmV4cG9ydCBjb25zdCBnZXRNYXBEYXRhID0gKCkgPT4gcHJvcGVydGllc0FwaS5nZXRNYXBEYXRhKCk7XG5leHBvcnQgY29uc3QgZ2V0U3RhdHMgPSAoKSA9PiBwcm9wZXJ0aWVzQXBpLmdldFN0YXRzKCk7XG5leHBvcnQgY29uc3QgdHJhY2tWaWV3ID0gKHByb3BlcnR5SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS50cmFja1ZpZXcocHJvcGVydHlJZCk7XG5leHBvcnQgY29uc3QgYWRkRmF2b3JpdGUgPSAocHJvcGVydHlJZDogc3RyaW5nKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmFkZEZhdm9yaXRlKHByb3BlcnR5SWQpO1xuZXhwb3J0IGNvbnN0IGNvbnRhY3RBZ2VudCA9IChwcm9wZXJ0eUlkOiBzdHJpbmcsIGZvcm1EYXRhOiBDb250YWN0QWdlbnRGb3JtKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmNvbnRhY3RBZ2VudChwcm9wZXJ0eUlkLCBmb3JtRGF0YSk7XG5leHBvcnQgY29uc3Qgc2NoZWR1bGVUb3VyID0gKHByb3BlcnR5SWQ6IHN0cmluZywgZm9ybURhdGE6IFNjaGVkdWxlVG91ckZvcm0pID0+XG4gIHByb3BlcnRpZXNBcGkuc2NoZWR1bGVUb3VyKHByb3BlcnR5SWQsIGZvcm1EYXRhKTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJlcG9ydCA9IChwcm9wZXJ0eUlkOiBzdHJpbmcpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2VuZXJhdGVSZXBvcnQocHJvcGVydHlJZCk7XG5leHBvcnQgY29uc3QgZ2V0UmVwb3J0ID0gKHByb3BlcnR5SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS5nZXRSZXBvcnQocHJvcGVydHlJZCk7XG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydGllc0J5Qm91bmRzID0gKGJvdW5kczogTWFwQm91bmRzKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnRpZXNCeUJvdW5kcyhib3VuZHMpO1xuZXhwb3J0IGNvbnN0IGdldFByb3BlcnRpZXNCeUFnZW50ID0gKGFnZW50SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS5nZXRQcm9wZXJ0aWVzQnlBZ2VudChhZ2VudElkKTtcbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0aWVzQnlUeXBlID0gKHByb3BlcnR5VHlwZTogc3RyaW5nKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnRpZXNCeVR5cGUocHJvcGVydHlUeXBlKTtcbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0aWVzQnlMb2NhdGlvbiA9IChsb2NhdGlvbjogc3RyaW5nKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnRpZXNCeUxvY2F0aW9uKGxvY2F0aW9uKTtcbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0aWVzQnlQcmljZVJhbmdlID0gKG1pblByaWNlOiBudW1iZXIsIG1heFByaWNlOiBudW1iZXIpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2V0UHJvcGVydGllc0J5UHJpY2VSYW5nZShtaW5QcmljZSwgbWF4UHJpY2UpO1xuZXhwb3J0IGNvbnN0IGdldFByb3BlcnRpZXNXaXRoRGlzY291bnQgPSAoKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnRpZXNXaXRoRGlzY291bnQoKTtcbmV4cG9ydCBjb25zdCBnZXROZXdQcm9wZXJ0aWVzID0gKCkgPT4gcHJvcGVydGllc0FwaS5nZXROZXdQcm9wZXJ0aWVzKCk7XG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydGllc0ZvclNhbGUgPSAoKSA9PiBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnRpZXNGb3JTYWxlKCk7XG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydGllc0ZvclJlbnQgPSAoKSA9PiBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnRpZXNGb3JSZW50KCk7XG5cbi8vIE3DqXRvZG9zIGVzcGVjw61maWNvcyBkZSBhcnF1aXRlY3R1cmEgYW5nZWxpY2FsXG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydHlGaW5hbmNpYWxzID0gKHByb3BlcnR5SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS5nZXRQcm9wZXJ0eUZpbmFuY2lhbHMocHJvcGVydHlJZCk7XG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydHlMb2NhdGlvbiA9IChwcm9wZXJ0eUlkOiBzdHJpbmcpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2V0UHJvcGVydHlMb2NhdGlvbihwcm9wZXJ0eUlkKTtcbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0eU1lZGlhID0gKHByb3BlcnR5SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS5nZXRQcm9wZXJ0eU1lZGlhKHByb3BlcnR5SWQpO1xuZXhwb3J0IGNvbnN0IGdldFByb3BlcnR5QWdlbnQgPSAocHJvcGVydHlJZDogc3RyaW5nKSA9PlxuICBwcm9wZXJ0aWVzQXBpLmdldFByb3BlcnR5QWdlbnQocHJvcGVydHlJZCk7XG5leHBvcnQgY29uc3QgZ2V0UHJvcGVydHlMZWdhbCA9IChwcm9wZXJ0eUlkOiBzdHJpbmcpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2V0UHJvcGVydHlMZWdhbChwcm9wZXJ0eUlkKTtcbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0eUFJID0gKHByb3BlcnR5SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS5nZXRQcm9wZXJ0eUFJKHByb3BlcnR5SWQpO1xuZXhwb3J0IGNvbnN0IGdldFByb3BlcnR5TWFya2V0aW5nID0gKHByb3BlcnR5SWQ6IHN0cmluZykgPT5cbiAgcHJvcGVydGllc0FwaS5nZXRQcm9wZXJ0eU1hcmtldGluZyhwcm9wZXJ0eUlkKTtcbmV4cG9ydCBjb25zdCBnZXRQcm9wZXJ0eUFuYWx5dGljcyA9IChwcm9wZXJ0eUlkOiBzdHJpbmcpID0+XG4gIHByb3BlcnRpZXNBcGkuZ2V0UHJvcGVydHlBbmFseXRpY3MocHJvcGVydHlJZCk7XG4iXSwibmFtZXMiOlsibm9ybWFsaXplSW1hZ2VVcmwiLCJpbWFnZVVybCIsImNvbnNvbGUiLCJsb2ciLCJwcm9jZXNzIiwic3RhcnRzV2l0aCIsInVybCIsIlVSTCIsInByb3h5VXJsIiwicGF0aG5hbWUiLCJpbmNsdWRlcyIsIm1lZGlhVXJsIiwiZW52IiwiTkVYVF9QVUJMSUNfTUVESUFfVVJMIiwiZnVsbFVybCIsIm5vcm1hbGl6ZU1lZGlhIiwibWVkaWFJdGVtIiwiaWQiLCJ0b1N0cmluZyIsInByb3BlcnR5IiwiaW1hZ2VfY292ZXIiLCJpbWFnZSIsImdhbGxlcnkiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpbWciLCJ2aWRlb190b3VyX3VybCIsInZpcnR1YWxfdG91cl91cmwiLCJmbG9vcl9wbGFuX3BkZiIsImJyb2NodXJlX3BkZiIsImRyb25lX3Nob3RzIiwibmlnaHRfcGhvdG9zIiwiaW50ZXJpb3JfcGhvdG9zIiwiZXh0ZXJpb3JfcGhvdG9zIiwibmVpZ2hib3Job29kX3ZpZGVvIiwiZHJvbmVfdmlkZW8iLCJ0b3RhbF9pbWFnZXMiLCJ0b3RhbF92aWRlb3MiLCJoYXNfdmlydHVhbF90b3VyIiwiaGFzX2Zsb29yX3BsYW4iLCJtZWRpYV9xdWFsaXR5X3Njb3JlIiwibGFzdF9tZWRpYV91cGRhdGUiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsImFsbF9pbWFnZXMiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJjYXB0aW9uIiwidGl0bGUiLCJhbGxfdmlkZW9zIiwiaGFzX3JpY2hfbWVkaWEiLCJtZWRpYV9jb21wbGV0ZW5lc3Nfc2NvcmUiLCJpc19tZWRpYV9jb21wbGV0ZSIsImdldEFwaUJhc2VVcmwiLCJORVhUX1BVQkxJQ19QQU5BTUFfQVBJX1VSTCIsIkFQSV9CQVNFX1VSTCIsIlByb3BlcnRpZXNBUEkiLCJyZXF1ZXN0IiwiZW5kcG9pbnQiLCJvcHRpb25zIiwiaXNVc2luZ1Byb3h5IiwiYmFzZVVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJjbGVhbkVuZHBvaW50IiwicmVwbGFjZSIsImRlZmF1bHRIZWFkZXJzIiwiY29uZmlnIiwiaGVhZGVycyIsIm1ldGhvZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImVycm9yRGF0YSIsImVycm9yVGV4dCIsInRleHQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJkZXRhaWwiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiRXJyb3IiLCJkYXRhIiwianNvbiIsInJlc3VsdHMiLCJub3JtYWxpemVkUHJvcGVydHkiLCJpbWFnZV91cmwiLCJtZWRpYSIsImdldFByb3BlcnRpZXMiLCJnZXRQcm9wZXJ0eSIsImdldEZlYXR1cmVkUHJvcGVydGllcyIsInNlYXJjaFByb3BlcnRpZXMiLCJmaWx0ZXJzIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInYiLCJhcHBlbmQiLCJxdWVyeVN0cmluZyIsImdldFNpbWlsYXJQcm9wZXJ0aWVzIiwiZ2V0SW52ZXN0bWVudE9wcG9ydHVuaXRpZXMiLCJnZXRNYXBEYXRhIiwiZ2V0U3RhdHMiLCJ0cmFja1ZpZXciLCJwcm9wZXJ0eUlkIiwiYWRkRmF2b3JpdGUiLCJjb250YWN0QWdlbnQiLCJmb3JtRGF0YSIsImJvZHkiLCJzdHJpbmdpZnkiLCJzY2hlZHVsZVRvdXIiLCJnZW5lcmF0ZVJlcG9ydCIsImdldFJlcG9ydCIsImdldFByb3BlcnRpZXNCeUJvdW5kcyIsImJvdW5kcyIsIm5lX2xhdCIsIm5vcnRoRWFzdCIsImxhdCIsIm5lX2xuZyIsImxuZyIsInN3X2xhdCIsInNvdXRoV2VzdCIsInN3X2xuZyIsImdldFByb3BlcnRpZXNCeUFnZW50IiwiYWdlbnRJZCIsImdldFByb3BlcnRpZXNCeVR5cGUiLCJwcm9wZXJ0eVR5cGUiLCJnZXRQcm9wZXJ0aWVzQnlMb2NhdGlvbiIsImdldFByb3BlcnRpZXNCeVByaWNlUmFuZ2UiLCJtaW5QcmljZSIsIm1heFByaWNlIiwibWluX3ByaWNlIiwibWF4X3ByaWNlIiwiZ2V0UHJvcGVydGllc1dpdGhEaXNjb3VudCIsImdldE5ld1Byb3BlcnRpZXMiLCJnZXRQcm9wZXJ0aWVzRm9yU2FsZSIsImdldFByb3BlcnRpZXNGb3JSZW50IiwiZ2V0UHJvcGVydHlGaW5hbmNpYWxzIiwiZ2V0UHJvcGVydHlMb2NhdGlvbiIsImdldFByb3BlcnR5TWVkaWEiLCJnZXRQcm9wZXJ0eUFnZW50IiwiZ2V0UHJvcGVydHlMZWdhbCIsImdldFByb3BlcnR5QUkiLCJnZXRQcm9wZXJ0eU1hcmtldGluZyIsImdldFByb3BlcnR5QW5hbHl0aWNzIiwiY3JlYXRlUHJvcGVydHkiLCJwcm9wZXJ0eURhdGEiLCJ1cGRhdGVQcm9wZXJ0eSIsImRlbGV0ZVByb3BlcnR5IiwidXBsb2FkUHJvcGVydHlJbWFnZSIsImltYWdlRmlsZSIsIkZvcm1EYXRhIiwiZGVsZXRlUHJvcGVydHlJbWFnZSIsImltYWdlSWQiLCJjb25zdHJ1Y3RvciIsInByb3BlcnRpZXNBcGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api/properties.ts\n"));

/***/ })

});